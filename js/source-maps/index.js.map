{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/consola/dist/consola.browser.js","src/js/Game.js","src/js/actors/Sub.js","src/js/config.js","src/js/index.js","src/js/scenes/GameOverScene.js","src/js/scenes/MainScene.js","src/js/scenes/MenuScene.js","src/js/scenes/PreloadScene.js","src/js/scenes/SoundManagerScene.js","src/js/scenes/UIScene.js","src/js/scenes/VictoryScene.js"],"names":[],"mappings":"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","file":"../index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).consola=e()}(this,(function(){\"use strict\";function t(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function u(t){if(\"undefined\"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=a(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,n,s=!0,i=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){i=!0,n=t},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw n}}}}var c={};c[c.Fatal=0]=\"Fatal\",c[c.Error=0]=\"Error\",c[c.Warn=1]=\"Warn\",c[c.Log=2]=\"Log\",c[c.Info=3]=\"Info\",c[c.Success=3]=\"Success\",c[c.Debug=4]=\"Debug\",c[c.Trace=5]=\"Trace\",c[c.Silent=-1/0]=\"Silent\",c[c.Verbose=1/0]=\"Verbose\";var f={silent:{level:-1},fatal:{level:c.Fatal},error:{level:c.Error},warn:{level:c.Warn},log:{level:c.Log},info:{level:c.Info},success:{level:c.Success},debug:{level:c.Debug},trace:{level:c.Trace},verbose:{level:c.Trace},ready:{level:c.Info},start:{level:c.Info}};function h(t){return e=t,\"[object Object]\"===Object.prototype.toString.call(e)&&(!(!t.message&&!t.args)&&!t.stack);var e}var p=!1,y=[],d=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var o in t(this,e),this._reporters=r.reporters||[],this._types=r.types||f,this.level=void 0!==r.level?r.level:3,this._defaults=r.defaults||{},this._async=void 0!==r.async?r.async:void 0,this._stdout=r.stdout,this._stderr=r.stderr,this._mockFn=r.mockFn,this._throttle=r.throttle||1e3,this._throttleMin=r.throttleMin||5,this._types){var n=s(s({type:o},this._types[o]),this._defaults);this[o]=this._wrapLogFn(n),this[o].raw=this._wrapLogFn(n,!0)}this._mockFn&&this.mockTypes(),this._lastLogSerialized=void 0,this._lastLog=void 0,this._lastLogTime=void 0,this._lastLogCount=0,this._throttleTimeout=void 0}return r(e,[{key:\"create\",value:function(t){return new e(Object.assign({reporters:this._reporters,level:this.level,types:this._types,defaults:this._defaults,stdout:this._stdout,stderr:this._stderr,mockFn:this._mockFn},t))}},{key:\"withDefaults\",value:function(t){return this.create({defaults:Object.assign({},this._defaults,t)})}},{key:\"withTag\",value:function(t){return this.withDefaults({tag:this._defaults.tag?this._defaults.tag+\":\"+t:t})}},{key:\"addReporter\",value:function(t){return this._reporters.push(t),this}},{key:\"removeReporter\",value:function(t){if(t){var e=this._reporters.indexOf(t);if(e>=0)return this._reporters.splice(e,1)}else this._reporters.splice(0);return this}},{key:\"setReporters\",value:function(t){return this._reporters=Array.isArray(t)?t:[t],this}},{key:\"wrapAll\",value:function(){this.wrapConsole(),this.wrapStd()}},{key:\"restoreAll\",value:function(){this.restoreConsole(),this.restoreStd()}},{key:\"wrapConsole\",value:function(){for(var t in this._types)console[\"__\"+t]||(console[\"__\"+t]=console[t]),console[t]=this[t].raw}},{key:\"restoreConsole\",value:function(){for(var t in this._types)console[\"__\"+t]&&(console[t]=console[\"__\"+t],delete console[\"__\"+t])}},{key:\"wrapStd\",value:function(){this._wrapStream(this.stdout,\"log\"),this._wrapStream(this.stderr,\"log\")}},{key:\"_wrapStream\",value:function(t,e){var r=this;t&&(t.__write||(t.__write=t.write),t.write=function(t){r[e].raw(String(t).trim())})}},{key:\"restoreStd\",value:function(){this._restoreStream(this.stdout),this._restoreStream(this.stderr)}},{key:\"_restoreStream\",value:function(t){t&&t.__write&&(t.write=t.__write,delete t.__write)}},{key:\"pauseLogs\",value:function(){p=!0}},{key:\"resumeLogs\",value:function(){p=!1;var t,e=u(y.splice(0));try{for(e.s();!(t=e.n()).done;){var r=t.value;r[0]._logFn(r[1],r[2])}}catch(t){e.e(t)}finally{e.f()}}},{key:\"mockTypes\",value:function(t){if(this._mockFn=t||this._mockFn,\"function\"==typeof this._mockFn)for(var e in this._types)this[e]=this._mockFn(e,this._types[e])||this[e],this[e].raw=this[e]}},{key:\"_wrapLogFn\",value:function(t,e){var r=this;return function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];if(!p)return r._logFn(t,n,e);y.push([r,t,n,e])}}},{key:\"_logFn\",value:function(t,e,r){var o=this;if(t.level>this.level)return!!this._async&&Promise.resolve(!1);var n=Object.assign({date:new Date,args:[]},t);!r&&1===e.length&&h(e[0])?Object.assign(n,e[0]):n.args=Array.from(e),n.message&&(n.args.unshift(n.message),delete n.message),n.additional&&(Array.isArray(n.additional)||(n.additional=n.additional.split(\"\\n\")),n.args.push(\"\\n\"+n.additional.join(\"\\n\")),delete n.additional),n.type=\"string\"==typeof n.type?n.type.toLowerCase():\"\",n.tag=\"string\"==typeof n.tag?n.tag.toLowerCase():\"\";var a=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=o._lastLogCount-o._throttleMin;if(o._lastLog&&e>0){var r=i(o._lastLog.args);e>1&&r.push(\"(repeated \".concat(e,\" times)\")),o._log(s(s({},o._lastLog),{},{args:r})),o._lastLogCount=1}if(t){if(o._lastLog=n,o._async)return o._logAsync(n);o._log(n)}};clearTimeout(this._throttleTimeout);var l=this._lastLogTime?n.date-this._lastLogTime:0;if(this._lastLogTime=n.date,l<this._throttle)try{var u=JSON.stringify([n.type,n.tag,n.args]),c=this._lastLogSerialized===u;if(this._lastLogSerialized=u,c&&(this._lastLogCount++,this._lastLogCount>this._throttleMin))return void(this._throttleTimeout=setTimeout(a,this._throttle))}catch(t){}a(!0)}},{key:\"_log\",value:function(t){var e,r=u(this._reporters);try{for(r.s();!(e=r.n()).done;){e.value.log(t,{async:!1,stdout:this.stdout,stderr:this.stderr})}}catch(t){r.e(t)}finally{r.f()}}},{key:\"_logAsync\",value:function(t){var e=this;return Promise.all(this._reporters.map((function(r){return r.log(t,{async:!0,stdout:e.stdout,stderr:e.stderr})})))}},{key:\"stdout\",get:function(){return this._stdout||console._stdout}},{key:\"stderr\",get:function(){return this._stderr||console._stderr}}]),e}();d.prototype.add=d.prototype.addReporter,d.prototype.remove=d.prototype.removeReporter,d.prototype.clear=d.prototype.removeReporter,d.prototype.withScope=d.prototype.withTag,d.prototype.mock=d.prototype.mockTypes,d.prototype.pause=d.prototype.pauseLogs,d.prototype.resume=d.prototype.resumeLogs;var v,g=function(){function e(r){t(this,e),this.options=Object.assign({},r),this.defaultColor=\"#7f8c8d\",this.levelColorMap={0:\"#c0392b\",1:\"#f39c12\",3:\"#00BCD4\"},this.typeColorMap={success:\"#2ecc71\"}}return r(e,[{key:\"log\",value:function(t){var e=t.level<1?console.__error||console.error:1===t.level&&console.warn?console.__warn||console.warn:console.__log||console.log,r=\"log\"!==t.type?t.type:\"\",o=t.tag?t.tag:\"\",n=this.typeColorMap[t.type]||this.levelColorMap[t.level]||this.defaultColor,s=\"\\n      background: \".concat(n,\";\\n      border-radius: 0.5em;\\n      color: white;\\n      font-weight: bold;\\n      padding: 2px 0.5em;\\n    \"),a=\"%c\".concat([o,r].filter(Boolean).join(\":\"));\"string\"==typeof t.args[0]?e.apply(void 0,[\"\".concat(a,\"%c \").concat(t.args[0]),s,\"\"].concat(i(t.args.slice(1)))):e.apply(void 0,[a,s].concat(i(t.args)))}}]),e}();return\"undefined\"!=typeof window&&window.consola||((v=new d({reporters:[new g]})).Consola=d,v.LogLevel=c,v.BrowserReporter=g,v)}));\n","/*\nglobal Phaser\n*/\n\nimport config from './config';\nimport PreloadScene from 'scenes/PreloadScene';\nimport MainScene from 'scenes/MainScene';\nimport MenuScene from 'scenes/MenuScene';\nimport UIScene from 'scenes/UIScene';\nimport SoundManagerScene from './scenes/SoundManagerScene';\nimport GameOverScene from './scenes/GameOverScene';\nimport VictoryScene from './scenes/VictoryScene';\n\nexport default class Game extends Phaser.Game {\n\n    constructor() {\n        const gameConfig = {\n            type : Phaser.AUTO,\n            scale: {\n                mode      : Phaser.Scale.FIT,\n                parent    : 'phaser-game',\n                autoCenter: Phaser.Scale.CENTER_BOTH,\n                width     : config.GAME_WIDTH,\n                height    : config.GAME_HEIGHT,\n            },\n            physics: {\n                default: 'matter',\n                matter : {\n                    debug  : config.DEBUG,\n                    gravity: {\n                        y: 0,\n                    },\n                },\n            },\n            scene: [PreloadScene, MenuScene, MainScene, UIScene, SoundManagerScene, GameOverScene, VictoryScene],\n        };\n\n        super(gameConfig);\n    }\n}\n\n","/* global Phaser */\n\nimport config from '../config';\n\nconst consola = require('consola').withTag('Sub');\n\nexport default class Sub extends Phaser.GameObjects.GameObject {\n    constructor(config) {\n        super(config.scene);\n\n        this.hasWon = false;\n        this.subSprite = config.scene.add.sprite(config.sub.x, config.sub.y, config.sub.key);\n        this.subSprite.setPipeline('Light2D');\n        this.propSprite = config.scene.add.sprite(config.prop.x, config.prop.y, config.prop.key).play('propellerAnimation');\n        this.propSprite.setPipeline('Light2D');\n\n        this.subContainer = config.scene.add.container(config.pos.x, config.pos.y, [this.propSprite, this.subSprite]);\n\n        const colGroup = config.scene.matter.world.nextGroup();\n        this.subMatterContainer = config.scene.matter.add.gameObject(this.subContainer, { shape: config.subShape });\n        this.subMatterContainer.setScale(0.5, 0.5);\n        this.subMatterContainer.setCollisionGroup(colGroup);\n\n        // relative to sprite origin\n        this.lightLocation = {\n            x: 135 - this.subSprite.width / 2,\n            y: 20 - this.subSprite.height / 2,\n        };\n\n        this.lightColor = 0xffffff;\n\n        this.lightChargeLevel = 1.0;\n        this.health = 1.0;\n\n        this.hasLoot = false;\n\n        config.scene.time.addEvent({\n            delay        : 1000,\n            loop         : true,\n            callback     : this.lightPowerTick,\n            callbackScope: this,\n        });\n\n        this.createLights(config.scene);\n    }\n\n    lightPowerTick() {\n        if (this.lightIsOn() && !config.LIGHTS_ALWAYS_ON) {\n            this.lightChargeLevel = Phaser.Math.Clamp(this.lightChargeLevel - .1, 0, 1);\n            if (this.lightChargeLevel === 0) {\n                consola.info('out of power');\n                this.toggleLights();\n            }\n            this.scene.events.emit('lightChargeChanged', this.lightChargeLevel);\n        }\n    }\n\n    update(keys) {\n        if (!this.isDead()) {\n            const surfaceLevel = (config.SKY_HEIGHT - 60) + (this.subSprite.height / 2);\n            const atSurface = this.subMatterContainer.y < surfaceLevel;\n\n            if (!this.hasWon) {\n                this.handleInput(keys, atSurface);\n            }\n\n            const lerpRotation = Phaser.Math.Linear(this.subMatterContainer.rotation, 0, 0.2);\n\n            this.subMatterContainer.setRotation(lerpRotation);\n\n            if (atSurface) {\n                this.subMatterContainer.y = surfaceLevel;\n            }\n        }\n\n        this.light.x = this.lightLocation.x + this.subMatterContainer.x;\n        this.light.y = this.lightLocation.y + this.subMatterContainer.y;\n    }\n\n    flickerLights() {\n        consola.info('flicker');\n        const delay = Phaser.Math.Between(100, 500);\n        this.scene.time.addEvent({\n            delay        : delay,\n            loop         : false,\n            callback     : this.flickerLights,\n            callbackScope: this,\n        });\n\n        this.toggleLights();\n    }\n\n    toggleLights() {\n        if (!this.lightIsOn() && this.lightChargeLevel > 0) {\n            this.light.setRadius(300);\n            if (!this.isDead()) {\n                this.scene.events.emit('lightsOn');\n            }\n        }\n        else {\n            this.light.setEmpty();\n            if (!this.isDead()) {\n                this.scene.events.emit('lightsOff');\n            }\n        }\n    }\n\n    lightIsOn() {\n        return !this.light.isEmpty();\n    }\n\n    createLights(scene) {\n        this.light = scene.lights.addLight(this.lightLocation.x + this.subMatterContainer.x,\n            this.lightLocation.y + this.subMatterContainer.y, 300)\n            .setColor(this.lightColor).setIntensity(5);\n    }\n\n    pickupGlowFish() {\n        consola.info('picked up glowfish');\n        this.lightChargeLevel = Phaser.Math.Clamp(this.lightChargeLevel + .3, 0, 1);\n        this.scene.events.emit('lightChargeChanged', this.lightChargeLevel);\n    }\n\n    takeDamage(amount) {\n        if (!config.INVULNERABLE) {\n            this.health = Phaser.Math.Clamp(this.health - amount, 0, 1);\n            this.scene.events.emit('healthChanged', this.health);\n            if (this.hasLoot) {\n                this.subSprite.setTexture('sub-loot-damaged-image');\n            }\n            else {\n                this.subSprite.setTexture('sub-damaged-image');\n            }\n            if (this.health === 0) {\n                consola.info('dead');\n                this.propSprite.anims.stop();\n            }\n        }\n    }\n\n    isDead() {\n        return this.health === 0;\n    }\n\n    flipX(direction) {\n        if (direction === 'left') {\n            this.subMatterContainer.setScale(0.5, 0.5);\n        }\n        else if (direction === 'right') {\n            this.subMatterContainer.setScale(-0.5, 0.5);\n        }\n    }\n\n    collectLoot() {\n        // change texture and body shape\n        this.subSprite.setTexture('sub-loot-image');\n        this.hasLoot = true;\n    }\n\n    deliverLoot() {\n        this.subSprite.setTexture('sub-image');\n        this.hasLoot = false;\n    }\n\n    handleInput(keys, atSurface) {\n        if (keys.W.isDown && !atSurface) {\n            this.subMatterContainer.thrustLeft(config.THRUST_POWER);\n        }\n        if (keys.A.isDown) {\n            this.subMatterContainer.thrustBack(config.THRUST_POWER);\n            this.flipX('left');\n        }\n        if (keys.S.isDown) {\n            this.subMatterContainer.thrustRight(config.THRUST_POWER);\n        }\n        if (keys.D.isDown) {\n            this.subMatterContainer.thrust(config.THRUST_POWER);\n            this.flipX('right');\n        }\n    }\n}\n","/* global ENV */\n\nconst config = {\n    GAME_WIDTH      : 1024,\n    GAME_HEIGHT     : 576,\n    WORLD_WIDTH     : 2000,\n    WORLD_HEIGHT    : 3000,\n    DEBUG           : false,\n    THRUST_POWER    : 0.00085,\n    LIGHTS_ALWAYS_ON: true,\n    INVULNERABLE    : false,\n    SKY_HEIGHT      : 100,\n    GRAVITY         : .75,\n    DISABLE_SOUNDS  : false,\n};\n\nif (ENV === 'dev') {\n    config.LOG_LEVEL = Infinity;\n}\nelse if (ENV === 'prod') {\n    config.LOG_LEVEL = 3;\n}\n\nexport default config;\n","import Game from './Game.js';\n\nwindow.addEventListener('load', () => {\n    // Launch the game once the page loads\n    new Game();\n});\n","/* global Phaser */\n\nimport config from '../config';\n\nexport default class GameOverScene extends Phaser.Scene {\n    constructor() {\n        super({ key: 'GameOverScene', active: true });\n    }\n\n    create() {\n        this.scene.setVisible(false); // hide unless specifically shown\n\n        const gameOverText = this.add.text(config.GAME_WIDTH / 2, config.GAME_HEIGHT / 2, 'Game Over', { backgroundColor: '#000' });\n        gameOverText.x -= gameOverText.width / 2;\n\n        const restartButton = this.add.text(config.GAME_WIDTH / 2, gameOverText.y + gameOverText.height + 20, 'Restart Game', { backgroundColor: '#000' });\n        restartButton.x -= restartButton.width / 2;\n        restartButton.setInteractive();\n        restartButton.on('pointerup', () => {\n            const gameScene = this.scene.get('MainScene');\n            const uiScene = this.scene.get('UIScene');\n            uiScene.scene.restart();\n            gameScene.scene.restart();\n            this.scene.setVisible(false);\n        });\n    }\n}\n","/* global Phaser */\n\nconst consola = require('consola').withTag('MainScene');\nimport config from '../config';\n\nimport Sub from '../actors/Sub';\n// import GlowFish from '../actors/GlowFish';\n\nexport default class MainScene extends Phaser.Scene {\n\n    constructor() {\n        super({ key: 'MainScene' });\n    }\n\n    preload() {\n    }\n\n    create() {\n        consola.info('Create');\n\n        this.victory = false;\n\n        this.scene.setVisible(true, 'UIScene');\n        this.scene.setVisible(false, 'GameOverScene');\n        this.scene.setVisible(false, 'VictoryScene');\n\n        this.lights.enable().setAmbientColor(0x111111);\n\n        const sky = this.add.graphics();\n        sky.fillStyle(0x99ccff);\n        sky.fillRect(0, 0, config.WORLD_WIDTH, config.SKY_HEIGHT);\n\n        // Add the Actors to the scene\n        // Barge sprite\n        this.bargeSprite = this.add.sprite(1000, 80, 'barge-image');\n        this.bargeSprite.scale = 1.2;\n\n        this.shapes = this.cache.json.get('shapes');\n        this.matter.world.setBounds(0, 0, config.WORLD_WIDTH, config.WORLD_HEIGHT);\n\n        this.groundGroup = this.matter.world.nextGroup();\n        const ground = this.matter.add.sprite(0, 0, 'ground-image', null,\n            { shape: this.shapes.ground }).setCollisionGroup(this.groundGroup);\n\n        this.bubbles = [];\n        for (let i = 0; i < 10; i++) {\n            this.generateBubbles(200, 1800, 200, 1000);\n        }\n        this.time.addEvent({\n            delay        : 2000,\n            loop         : true,\n            callback     : this.generateBubbles,\n            callbackScope: this,\n        });\n\n        ground.setPosition(975 + ground.centerOfMass.x, 1820 + ground.centerOfMass.y);\n        ground.setPipeline('Light2D');\n\n        this.sub = new Sub({\n            scene: this,\n            sub  : {\n                x  : -22,\n                y  : -20,\n                key: 'sub-image',\n            },\n            prop: {\n                x  : 82,\n                y  : 36,\n                key: 'propeller',\n            },\n            pos     : { x: 1000, y: 130 },\n            subShape: this.shapes.Sub_Base,\n        });\n\n        this.glowFishGroup = this.matter.world.nextGroup(true);\n        for (let i = 0; i < 10; i++) {\n            const x = Phaser.Math.Between(200, 1500);\n            const y = Phaser.Math.Between(config.SKY_HEIGHT + 50, 300);\n            const startFrame = Phaser.Math.Between(0, 30);\n            const glowFish = this.matter.add.sprite(x, y, 'glow-fish').play({ key: 'glowFishAnimation', startFrame });\n            glowFish.setCollisionGroup(this.glowFishGroup);\n            glowFish.setScale(0.25, 0.25);\n            glowFish.setPipeline('Light2D');\n            glowFish.directionX = Phaser.Math.Between(-1, 1);\n            glowFish.setIgnoreGravity(true);\n            if (glowFish.directionX === 0) {\n                glowFish.directionX = -1;\n            }\n        }\n\n        // Place Shipwreck and loot\n        this.createShipwreckLoot();\n\n        // Collision checks\n        this.collisionChecks();\n\n        // Set up the camera\n        this.cameras.main.setBounds(0, 0, config.WORLD_WIDTH, config.WORLD_HEIGHT);\n        this.cameras.main.startFollow(this.sub.subMatterContainer, false, 0.05, 0.05);\n        this.cameras.main.setBackgroundColor(0x004080);\n\n        // Fullscreen button\n        // TODO: Add this in the right position\n        // const fullscreenButton = this.add.image(config.GAME_WIDTH - 16, 16, 'fullscreen', 0)\n        // .setOrigin(1, 0).setInteractive();\n        // fullscreenButton.on('pointerup', () => {\n        //     if (this.scale.isFullscreen) {\n        //         consola.debug('Stop fullscreen');\n        //         fullscreenButton.setFrame(0);\n        //         this.scale.stopFullscreen();\n        //     }\n        //     else {\n        //         consola.debug('Start fullscreen');\n        //         fullscreenButton.setFrame(1);\n        //         this.scale.startFullscreen();\n        //     }\n        // }, this);\n\n        this.input.on('pointerdown', (pointer) => {\n            if (!this.sub.isDead()) {\n                this.sub.toggleLights();\n            }\n        });\n\n        this.keys = this.input.keyboard.addKeys('W,S,A,D');\n    }\n\n    collisionChecks() {\n        this.matter.world.on('collisionstart', (event, a, b) => {\n            let subObj = null;\n            let otherObj = null;\n            if (a.gameObject === this.sub.subMatterContainer) {\n                subObj = a;\n                otherObj = b;\n            }\n            else if (b.gameObject === this.sub.subMatterContainer) {\n                subObj = b;\n                otherObj = a;\n            }\n\n            if (subObj && !this.sub.isDead() && otherObj) {\n                if (otherObj.collisionFilter.group === this.glowFishGroup) {\n                    this.sub.pickupGlowFish();\n                    otherObj.gameObject.destroy();\n                }\n                else if (otherObj.parent.label === 'loot') {\n                    this.collectLoot(otherObj);\n                }\n                else if (otherObj.collisionFilter.group === 0) {\n                    consola.info('collided with ground');\n                    this.sub.takeDamage(.5);\n                    if (this.sub.isDead()) {\n                        this.matter.world.setGravity(0, config.GRAVITY);\n                        this.scene.setVisible(true, 'GameOverScene');\n                        this.sub.flickerLights();\n                    }\n                }\n                else {\n                    consola.info('unknown collision: ' + otherObj.collisionFilter.group);\n                }\n            }\n        });\n    }\n\n    generateBubbles(minX = 200, maxX = 1800, minY = 2000, maxY = 3000) {\n        const x = Phaser.Math.Between(minX, maxX);\n        const y = Phaser.Math.Between(minY, maxY);\n\n        const frameRate = Phaser.Math.Between(5, 30);\n        const bubble = this.add.sprite(x, y, 'bubbles').play({ key: 'bubblesAnimation', frameRate });\n        bubble.setScale(.25, .25);\n        bubble.setPipeline('Light2D');\n        bubble.setOrigin(0, 0);\n        bubble.tint = 0x001a33;\n        this.bubbles.push(bubble);\n    }\n\n    update(time, delta) {\n        if (!this.victory) {\n            this.sub.update(this.keys);\n        }\n\n\n        this.setAmbientColor();\n\n        this.bubbles.forEach((bubble, index, object) => {\n            bubble.y -= 50 * delta / 1000;\n            if (bubble.y < config.SKY_HEIGHT) {\n                bubble.destroy();\n                object.splice(index, 1);\n            }\n        });\n\n        this.matter.world.getAllBodies().forEach((body) => {\n            if (body.collisionFilter.group === this.glowFishGroup) {\n                body.gameObject.setVelocityX(.5 * body.gameObject.directionX);\n                body.gameObject.flipX = body.gameObject.directionX < 0;\n\n                if (body.gameObject.x < 100) {\n                    body.gameObject.directionX = 1;\n                }\n                else if (body.gameObject.x > 1800) {\n                    body.gameObject.directionX = -1;\n                }\n            }\n        });\n\n        const distance = Phaser.Math.Distance.BetweenPoints(this.sub.subContainer, this.bargeSprite);\n        if (distance < 120 && this.sub.hasLoot) {\n            this.deliverLoot();\n        }\n    }\n\n    setAmbientColor() {\n        const lightAmbient = Phaser.Display.Color.HexStringToColor('0x0066cc');\n        const darkAmbient = Phaser.Display.Color.HexStringToColor('0x0');\n\n        const maxDarkDepth = 2500;\n        const subDepth = Phaser.Math.Clamp(this.sub.subMatterContainer.y, 0, maxDarkDepth);\n\n        const newAmbient = Phaser.Display.Color.Interpolate.ColorWithColor(lightAmbient, darkAmbient,\n            maxDarkDepth, subDepth);\n        const newAmbientNumber = Phaser.Display.Color.ValueToColor(newAmbient).color;\n        this.lights.setAmbientColor(newAmbientNumber);\n        this.cameras.main.setBackgroundColor(newAmbient);\n    }\n\n    createShipwreckLoot() {\n        const spawnPositions = [\n            // Left\n            {\n                loot : { x: 315, y: 2880 },\n                wreck: { x: 275, y: 2880 },\n            },\n            // Center\n            {\n                loot : { x: 1045, y: 2870 },\n                wreck: { x: 1000, y: 2870 },\n            },\n            // Right\n            {\n                loot : { x: 1800, y: 2920 },\n                wreck: { x: 1760, y: 2920 },\n            },\n        ];\n\n        // Pick a random spawn point for the loot\n        const spawnPosition = spawnPositions[Phaser.Math.Between(0, 2)];\n\n        const lootImage = this.matter.add.image(spawnPosition.loot.x, spawnPosition.loot.y, 'loot-image', null,\n            { shape: this.shapes.Loot, label: 'loot' });\n\n        lootImage.setScale(0.5, 0.5);\n        lootImage.setPipeline('Light2D');\n\n        const wreckImage = this.add.image(spawnPosition.wreck.x, spawnPosition.wreck.y, 'wreck-image');\n        wreckImage.setScale(0.5, 0.5);\n        wreckImage.setPipeline('Light2D');\n    }\n\n    collectLoot(loot) {\n        // remove loot from scene\n        loot.gameObject.destroy();\n\n        // Update sub\n        this.sub.collectLoot();\n    }\n\n    deliverLoot() {\n        consola.log('Loot delivered');\n        this.bargeSprite.setTexture('barge-filled-image');\n        this.sub.deliverLoot();\n        this.scene.setVisible(true, 'VictoryScene');\n        this.sub.hasWon = true;\n    }\n}\n","/* global Phaser */\n\nconst consola = require('consola').withTag('MenuScene');\n\n/**\n * MenuScene is the scene of the main menu of the game\n */\nexport default class MenuScene extends Phaser.Scene {\n\n    /**\n     * construct passing the unique key to the game instance\n     */\n    constructor() {\n        super({ key: 'MenuScene' });\n    }\n\n    /**\n     * Create the games Main Menu\n     *\n     * @param {object} data generic data to pass between scenes\n     */\n    create(data) {\n        consola.info('Create');\n\n        // TODO: create a main menu \"Play\" button\n        this.scene.start('MainScene');\n    }\n}\n","/* global Phaser */\nimport config from '../config';\n\nconst consola = require('consola').withTag('PreloadScene');\nconsola.level = config.LOG_LEVEL;\n\nexport default class PreloadScene extends Phaser.Scene {\n\n    constructor() {\n        super({ key: 'PreloadScene' });\n    }\n\n    preload() {\n        consola.trace('Loading assets..');\n\n        // Static images\n        this.load.image('ground-image', '../assets/images/ground.png');\n        this.load.image('sub-image', '../assets/images/Sub-Base.png');\n        this.load.image('sub-loot-image', '../assets/images/Sub_Loot.png');\n        this.load.image('sub-damaged-image', '../assets/images/Sub-Base-damaged.png');\n        this.load.image('sub-loot-damaged-image', '../assets/images/Sub-Loot-damaged.png');\n        this.load.image('wreck-image', '../assets/images/Shipwreck.png');\n        this.load.image('loot-image', '../assets/images/Loot.png');\n        this.load.image('barge-image', '../assets/images/Barge.png');\n        this.load.image('barge-filled-image', '../assets/images/Barge_Filled.png');\n\n        // Sprite sheets\n        this.load.spritesheet('fullscreen', '../assets/images/fullscreen-white.png', { frameWidth: 64, frameHeight: 64 });\n        this.load.spritesheet('propeller', '../assets/images/Sub-Prop-sprite-sheet.png', { frameWidth: 56, frameHeight: 26 });\n        this.load.spritesheet('glow-fish', '../assets/images/Glow_Fish_Animated-Spritesheet.png', { frameWidth: 220, frameHeight: 114 });\n        this.load.spritesheet('bubbles', '../assets/images/Bubbles Spritesheet.png', { frameWidth: 154, frameHeight: 300 });\n\n        // Physics shapes\n        this.load.json('shapes', 'assets/json/shapes.json');\n    }\n\n    /**\n     * Pre-create any static objects that will be used in the game e.g. animations\n     */\n    create() {\n        consola.success('Game loaded');\n\n        // Create animations\n        const propAnimConfig = {\n            key      : 'propellerAnimation',\n            frames   : this.anims.generateFrameNumbers('propeller', { start: 0, end: 3, first: 0 }),\n            frameRate: 20,\n            repeat   : -1,\n        };\n        this.anims.create(propAnimConfig);\n\n        const glowFishAnimConfig = {\n            key      : 'glowFishAnimation',\n            frames   : this.anims.generateFrameNumbers('glow-fish', { start: 0, end: 30, first: 0 }),\n            frameRate: 20,\n            repeat   : -1,\n        };\n        this.anims.create(glowFishAnimConfig);\n\n        const bubblesAnimConfig = {\n            key      : 'bubblesAnimation',\n            frames   : this.anims.generateFrameNumbers('bubbles', { start: 0, end: 30, first: 0 }),\n            frameRate: 20,\n            repeat   : -1,\n        };\n        this.anims.create(bubblesAnimConfig);\n\n        this.scene.start('MenuScene');\n    }\n}\n","/* global Phaser */\n\nimport config from '../config';\n\nexport default class SoundManagerScene extends Phaser.Scene {\n    constructor() {\n        super({ key: 'SoundManagerScene', active: true });\n    }\n\n    preload() {\n        this.load.audio('sub-crash', '../assets/sounds/sub-crash.mp3');\n        this.load.audio('lights-on', '../assets/sounds/lights-on.mp3');\n        this.load.audio('lights-off', '../assets/sounds/lights-off.mp3');\n        this.load.audio('swallow', '../assets/sounds/swallow.mp3');\n        this.load.audio('propeller', '../assets/sounds/propeller.mp3');\n        this.load.audio('main-music', '../assets/sounds/ld48-ambient-play-music.mp3');\n        this.load.audio('bubble1', '../assets/sounds/bubble1.mp3');\n        this.load.audio('bubble2', '../assets/sounds/bubble2.mp3');\n        this.load.audio('bubble3', '../assets/sounds/bubble3.mp3');\n        this.load.audio('whale', '../assets/sounds/whale.mp3');\n        this.load.audio('sea-creature1', '../assets/sounds/sea-creature1.mp3');\n        this.load.audio('sea-creature2', '../assets/sounds/sea-creature2.mp3');\n    }\n\n    create() {\n        if (config.DISABLE_SOUNDS) return;\n\n        this.miscSounds = [\n            this.sound.add('bubble1'),\n            this.sound.add('bubble2'),\n            this.sound.add('bubble3'),\n            this.sound.add('whale'),\n            this.sound.add('sea-creature1'),\n            this.sound.add('sea-creature2'),\n        ];\n        this.scene.get('MainScene').time.addEvent({\n            delay        : 5000,\n            loop         : false,\n            callback     : this.playRandomSound,\n            callbackScope: this,\n        });\n\n        this.subCrash = this.sound.add('sub-crash');\n        this.lightsOn = this.sound.add('lights-on');\n        this.lightsOff = this.sound.add('lights-off');\n        this.swallow = this.sound.add('swallow');\n        this.propeller = this.sound.add('propeller');\n        this.propeller.play({ loop: true });\n\n        this.gameScene = this.scene.get('MainScene');\n        this.gameScene.events.on('healthChanged', (health) => {\n            this.subCrash.play();\n            if (health === 0) {\n                this.propeller.stop();\n            }\n        });\n\n        this.gameScene.events.on('lightsOn', () => {\n            this.lightsOn.play();\n        });\n\n        this.gameScene.events.on('lightsOff', () => {\n            this.lightsOff.play();\n        });\n\n        this.gameScene.events.on('lightChargeChanged', () => {\n            this.swallow.play({ volume: 0.5 });\n        });\n\n        this.mainMusic = this.sound.add('main-music');\n        this.mainMusic.play({ loop: true, volume: 0.25 });\n    }\n\n    playRandomSound() {\n        const delay = Phaser.Math.Between(15000, 3000);\n        this.scene.get('MainScene').time.addEvent({\n            delay        : delay,\n            loop         : false,\n            callback     : this.playRandomSound,\n            callbackScope: this,\n        });\n\n        const soundIndex = Phaser.Math.Between(0, this.miscSounds.length - 1);\n        this.miscSounds[soundIndex].play();\n    }\n}\n","/* global Phaser */\n// const consola = require('consola').withTag('UIScene');\n\nexport default class UIScene extends Phaser.Scene {\n    constructor() {\n        super({ key: 'UIScene', active: true });\n    }\n\n    create() {\n        this.scene.setVisible(false); // hide unless specifically set to visible\n\n        this.gameScene = this.scene.get('MainScene');\n        this.gameScene.events.on('lightChargeChanged', (chargeLevel) => {\n            this.drawPowerBar(chargeLevel);\n        });\n        this.gameScene.events.on('healthChanged', (health) => {\n            this.drawHealthBar(health);\n        });\n\n        // UI\n        this.powerBar = this.add.graphics();\n        this.healthBar = this.add.graphics();\n        this.drawPowerBar(1.0);\n        this.drawHealthBar(1.0);\n    }\n\n    drawPowerBar(chargeLevel) {\n        this.powerBar.fillStyle(0x555555);\n        this.powerBar.fillRect(10, 10, 50, 20);\n        this.powerBar.fillStyle(0xffff00);\n        this.powerBar.fillRect(10, 10, 50 * chargeLevel, 20);\n    }\n\n    drawHealthBar(health) {\n        this.powerBar.fillStyle(0x555555);\n        this.powerBar.fillRect(10, 40, 50, 20);\n        this.powerBar.fillStyle(0xff0000);\n        this.powerBar.fillRect(10, 40, 50 * health, 20);\n    }\n}\n","/* global Phaser */\n\nimport config from '../config';\n\nexport default class VictoryScene extends Phaser.Scene {\n    constructor() {\n        super({ key: 'VictoryScene', active: true });\n    }\n\n    create() {\n        this.scene.setVisible(false); // hide unless specifically shown\n\n        const victoryText = this.add.text(config.GAME_WIDTH / 2, config.GAME_HEIGHT / 2, 'Victory!', { backgroundColor: '#000' });\n        victoryText.x -= victoryText.width / 2;\n\n        const restartButton = this.add.text(config.GAME_WIDTH / 2, victoryText.y + victoryText.height + 20, 'Play Again', { backgroundColor: '#000' });\n        restartButton.x -= restartButton.width / 2;\n        restartButton.setInteractive();\n        restartButton.on('pointerup', () => {\n            const gameScene = this.scene.get('MainScene');\n            const uiScene = this.scene.get('UIScene');\n            uiScene.scene.restart();\n            gameScene.scene.restart();\n            this.scene.setVisible(false);\n        });\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY29uc29sYS9kaXN0L2NvbnNvbGEuYnJvd3Nlci5qcyIsInNyYy9qcy9HYW1lLmpzIiwic3JjL2pzL2FjdG9ycy9TdWIuanMiLCJzcmMvanMvY29uZmlnLmpzIiwic3JjL2pzL2luZGV4LmpzIiwic3JjL2pzL3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzIiwic3JjL2pzL3NjZW5lcy9NYWluU2NlbmUuanMiLCJzcmMvanMvc2NlbmVzL01lbnVTY2VuZS5qcyIsInNyYy9qcy9zY2VuZXMvUHJlbG9hZFNjZW5lLmpzIiwic3JjL2pzL3NjZW5lcy9Tb3VuZE1hbmFnZXJTY2VuZS5qcyIsInNyYy9qcy9zY2VuZXMvVUlTY2VuZS5qcyIsInNyYy9qcy9zY2VuZXMvVmljdG9yeVNjZW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTs7Ozs7Ozs7Ozs7QUNHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFFcUIsSTs7Ozs7QUFFakIsa0JBQWM7QUFBQTs7QUFDVixRQUFNLFVBQVUsR0FBRztBQUNmLE1BQUEsSUFBSSxFQUFHLE1BQU0sQ0FBQyxJQURDO0FBRWYsTUFBQSxLQUFLLEVBQUU7QUFDSCxRQUFBLElBQUksRUFBUSxNQUFNLENBQUMsS0FBUCxDQUFhLEdBRHRCO0FBRUgsUUFBQSxNQUFNLEVBQU0sYUFGVDtBQUdILFFBQUEsVUFBVSxFQUFFLE1BQU0sQ0FBQyxLQUFQLENBQWEsV0FIdEI7QUFJSCxRQUFBLEtBQUssRUFBTyxtQkFBTyxVQUpoQjtBQUtILFFBQUEsTUFBTSxFQUFNLG1CQUFPO0FBTGhCLE9BRlE7QUFTZixNQUFBLE9BQU8sRUFBRTtBQUNMLG1CQUFTLFFBREo7QUFFTCxRQUFBLE1BQU0sRUFBRztBQUNMLFVBQUEsS0FBSyxFQUFJLG1CQUFPLEtBRFg7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LFFBQUEsU0FBUyxDQUFDLEtBQVYsQ0FBZ0IsT0FBaEI7O0FBQ0EsUUFBQSxLQUFJLENBQUMsS0FBTCxDQUFXLFVBQVgsQ0FBc0IsS0FBdEI7QUFDSCxPQU5EO0FBT0g7Ozs7RUFyQnFDLE1BQU0sQ0FBQyxLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9dHx8c2VsZikuY29uc29sYT1lKCl9KHRoaXMsKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19ZnVuY3Rpb24gcih0LHIsbyl7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbyYmZSh0LG8pLHR9ZnVuY3Rpb24gbyh0LGUscil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1yLHR9ZnVuY3Rpb24gbih0LGUpe3ZhciByPU9iamVjdC5rZXlzKHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCk7ZSYmKG89by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbyl9cmV0dXJuIHJ9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9uKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7byh0LGUscltlXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXModCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bihPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBsKHQpfSh0KXx8ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gQXJyYXkuZnJvbSh0KX0odCl8fGEodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gYSh0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBsKHQsZSk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1yJiZ0LmNvbnN0cnVjdG9yJiYocj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1yfHxcIlNldFwiPT09cj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9sKHQsZSk6dm9pZCAwfX1mdW5jdGlvbiBsKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciByPTAsbz1uZXcgQXJyYXkoZSk7cjxlO3IrKylvW3JdPXRbcl07cmV0dXJuIG99ZnVuY3Rpb24gdSh0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHxudWxsPT10W1N5bWJvbC5pdGVyYXRvcl0pe2lmKEFycmF5LmlzQXJyYXkodCl8fCh0PWEodCkpKXt2YXIgZT0wLHI9ZnVuY3Rpb24oKXt9O3JldHVybntzOnIsbjpmdW5jdGlvbigpe3JldHVybiBlPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtlKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOnJ9fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgbyxuLHM9ITAsaT0hMTtyZXR1cm57czpmdW5jdGlvbigpe289dFtTeW1ib2wuaXRlcmF0b3JdKCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1vLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtpPSEwLG49dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgbn19fX12YXIgYz17fTtjW2MuRmF0YWw9MF09XCJGYXRhbFwiLGNbYy5FcnJvcj0wXT1cIkVycm9yXCIsY1tjLldhcm49MV09XCJXYXJuXCIsY1tjLkxvZz0yXT1cIkxvZ1wiLGNbYy5JbmZvPTNdPVwiSW5mb1wiLGNbYy5TdWNjZXNzPTNdPVwiU3VjY2Vzc1wiLGNbYy5EZWJ1Zz00XT1cIkRlYnVnXCIsY1tjLlRyYWNlPTVdPVwiVHJhY2VcIixjW2MuU2lsZW50PS0xLzBdPVwiU2lsZW50XCIsY1tjLlZlcmJvc2U9MS8wXT1cIlZlcmJvc2VcIjt2YXIgZj17c2lsZW50OntsZXZlbDotMX0sZmF0YWw6e2xldmVsOmMuRmF0YWx9LGVycm9yOntsZXZlbDpjLkVycm9yfSx3YXJuOntsZXZlbDpjLldhcm59LGxvZzp7bGV2ZWw6Yy5Mb2d9LGluZm86e2xldmVsOmMuSW5mb30sc3VjY2Vzczp7bGV2ZWw6Yy5TdWNjZXNzfSxkZWJ1Zzp7bGV2ZWw6Yy5EZWJ1Z30sdHJhY2U6e2xldmVsOmMuVHJhY2V9LHZlcmJvc2U6e2xldmVsOmMuVHJhY2V9LHJlYWR5OntsZXZlbDpjLkluZm99LHN0YXJ0OntsZXZlbDpjLkluZm99fTtmdW5jdGlvbiBoKHQpe3JldHVybiBlPXQsXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSYmKCEoIXQubWVzc2FnZSYmIXQuYXJncykmJiF0LnN0YWNrKTt2YXIgZX12YXIgcD0hMSx5PVtdLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2Zvcih2YXIgbyBpbiB0KHRoaXMsZSksdGhpcy5fcmVwb3J0ZXJzPXIucmVwb3J0ZXJzfHxbXSx0aGlzLl90eXBlcz1yLnR5cGVzfHxmLHRoaXMubGV2ZWw9dm9pZCAwIT09ci5sZXZlbD9yLmxldmVsOjMsdGhpcy5fZGVmYXVsdHM9ci5kZWZhdWx0c3x8e30sdGhpcy5fYXN5bmM9dm9pZCAwIT09ci5hc3luYz9yLmFzeW5jOnZvaWQgMCx0aGlzLl9zdGRvdXQ9ci5zdGRvdXQsdGhpcy5fc3RkZXJyPXIuc3RkZXJyLHRoaXMuX21vY2tGbj1yLm1vY2tGbix0aGlzLl90aHJvdHRsZT1yLnRocm90dGxlfHwxZTMsdGhpcy5fdGhyb3R0bGVNaW49ci50aHJvdHRsZU1pbnx8NSx0aGlzLl90eXBlcyl7dmFyIG49cyhzKHt0eXBlOm99LHRoaXMuX3R5cGVzW29dKSx0aGlzLl9kZWZhdWx0cyk7dGhpc1tvXT10aGlzLl93cmFwTG9nRm4obiksdGhpc1tvXS5yYXc9dGhpcy5fd3JhcExvZ0ZuKG4sITApfXRoaXMuX21vY2tGbiYmdGhpcy5tb2NrVHlwZXMoKSx0aGlzLl9sYXN0TG9nU2VyaWFsaXplZD12b2lkIDAsdGhpcy5fbGFzdExvZz12b2lkIDAsdGhpcy5fbGFzdExvZ1RpbWU9dm9pZCAwLHRoaXMuX2xhc3RMb2dDb3VudD0wLHRoaXMuX3Rocm90dGxlVGltZW91dD12b2lkIDB9cmV0dXJuIHIoZSxbe2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZShPYmplY3QuYXNzaWduKHtyZXBvcnRlcnM6dGhpcy5fcmVwb3J0ZXJzLGxldmVsOnRoaXMubGV2ZWwsdHlwZXM6dGhpcy5fdHlwZXMsZGVmYXVsdHM6dGhpcy5fZGVmYXVsdHMsc3Rkb3V0OnRoaXMuX3N0ZG91dCxzdGRlcnI6dGhpcy5fc3RkZXJyLG1vY2tGbjp0aGlzLl9tb2NrRm59LHQpKX19LHtrZXk6XCJ3aXRoRGVmYXVsdHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jcmVhdGUoe2RlZmF1bHRzOk9iamVjdC5hc3NpZ24oe30sdGhpcy5fZGVmYXVsdHMsdCl9KX19LHtrZXk6XCJ3aXRoVGFnXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud2l0aERlZmF1bHRzKHt0YWc6dGhpcy5fZGVmYXVsdHMudGFnP3RoaXMuX2RlZmF1bHRzLnRhZytcIjpcIit0OnR9KX19LHtrZXk6XCJhZGRSZXBvcnRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZXBvcnRlcnMucHVzaCh0KSx0aGlzfX0se2tleTpcInJlbW92ZVJlcG9ydGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dGhpcy5fcmVwb3J0ZXJzLmluZGV4T2YodCk7aWYoZT49MClyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzLnNwbGljZShlLDEpfWVsc2UgdGhpcy5fcmVwb3J0ZXJzLnNwbGljZSgwKTtyZXR1cm4gdGhpc319LHtrZXk6XCJzZXRSZXBvcnRlcnNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzPUFycmF5LmlzQXJyYXkodCk/dDpbdF0sdGhpc319LHtrZXk6XCJ3cmFwQWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndyYXBDb25zb2xlKCksdGhpcy53cmFwU3RkKCl9fSx7a2V5OlwicmVzdG9yZUFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZXN0b3JlQ29uc29sZSgpLHRoaXMucmVzdG9yZVN0ZCgpfX0se2tleTpcIndyYXBDb25zb2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fdHlwZXMpY29uc29sZVtcIl9fXCIrdF18fChjb25zb2xlW1wiX19cIit0XT1jb25zb2xlW3RdKSxjb25zb2xlW3RdPXRoaXNbdF0ucmF3fX0se2tleTpcInJlc3RvcmVDb25zb2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5fdHlwZXMpY29uc29sZVtcIl9fXCIrdF0mJihjb25zb2xlW3RdPWNvbnNvbGVbXCJfX1wiK3RdLGRlbGV0ZSBjb25zb2xlW1wiX19cIit0XSl9fSx7a2V5Olwid3JhcFN0ZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fd3JhcFN0cmVhbSh0aGlzLnN0ZG91dCxcImxvZ1wiKSx0aGlzLl93cmFwU3RyZWFtKHRoaXMuc3RkZXJyLFwibG9nXCIpfX0se2tleTpcIl93cmFwU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3QmJih0Ll9fd3JpdGV8fCh0Ll9fd3JpdGU9dC53cml0ZSksdC53cml0ZT1mdW5jdGlvbih0KXtyW2VdLnJhdyhTdHJpbmcodCkudHJpbSgpKX0pfX0se2tleTpcInJlc3RvcmVTdGRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3Jlc3RvcmVTdHJlYW0odGhpcy5zdGRvdXQpLHRoaXMuX3Jlc3RvcmVTdHJlYW0odGhpcy5zdGRlcnIpfX0se2tleTpcIl9yZXN0b3JlU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCYmdC5fX3dyaXRlJiYodC53cml0ZT10Ll9fd3JpdGUsZGVsZXRlIHQuX193cml0ZSl9fSx7a2V5OlwicGF1c2VMb2dzXCIsdmFsdWU6ZnVuY3Rpb24oKXtwPSEwfX0se2tleTpcInJlc3VtZUxvZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3A9ITE7dmFyIHQsZT11KHkuc3BsaWNlKDApKTt0cnl7Zm9yKGUucygpOyEodD1lLm4oKSkuZG9uZTspe3ZhciByPXQudmFsdWU7clswXS5fbG9nRm4oclsxXSxyWzJdKX19Y2F0Y2godCl7ZS5lKHQpfWZpbmFsbHl7ZS5mKCl9fX0se2tleTpcIm1vY2tUeXBlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX21vY2tGbj10fHx0aGlzLl9tb2NrRm4sXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fbW9ja0ZuKWZvcih2YXIgZSBpbiB0aGlzLl90eXBlcyl0aGlzW2VdPXRoaXMuX21vY2tGbihlLHRoaXMuX3R5cGVzW2VdKXx8dGhpc1tlXSx0aGlzW2VdLnJhdz10aGlzW2VdfX0se2tleTpcIl93cmFwTG9nRm5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkobykscz0wO3M8bztzKyspbltzXT1hcmd1bWVudHNbc107aWYoIXApcmV0dXJuIHIuX2xvZ0ZuKHQsbixlKTt5LnB1c2goW3IsdCxuLGVdKX19fSx7a2V5OlwiX2xvZ0ZuXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIpe3ZhciBvPXRoaXM7aWYodC5sZXZlbD50aGlzLmxldmVsKXJldHVybiEhdGhpcy5fYXN5bmMmJlByb21pc2UucmVzb2x2ZSghMSk7dmFyIG49T2JqZWN0LmFzc2lnbih7ZGF0ZTpuZXcgRGF0ZSxhcmdzOltdfSx0KTshciYmMT09PWUubGVuZ3RoJiZoKGVbMF0pP09iamVjdC5hc3NpZ24obixlWzBdKTpuLmFyZ3M9QXJyYXkuZnJvbShlKSxuLm1lc3NhZ2UmJihuLmFyZ3MudW5zaGlmdChuLm1lc3NhZ2UpLGRlbGV0ZSBuLm1lc3NhZ2UpLG4uYWRkaXRpb25hbCYmKEFycmF5LmlzQXJyYXkobi5hZGRpdGlvbmFsKXx8KG4uYWRkaXRpb25hbD1uLmFkZGl0aW9uYWwuc3BsaXQoXCJcXG5cIikpLG4uYXJncy5wdXNoKFwiXFxuXCIrbi5hZGRpdGlvbmFsLmpvaW4oXCJcXG5cIikpLGRlbGV0ZSBuLmFkZGl0aW9uYWwpLG4udHlwZT1cInN0cmluZ1wiPT10eXBlb2Ygbi50eXBlP24udHlwZS50b0xvd2VyQ2FzZSgpOlwiXCIsbi50YWc9XCJzdHJpbmdcIj09dHlwZW9mIG4udGFnP24udGFnLnRvTG93ZXJDYXNlKCk6XCJcIjt2YXIgYT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sZT1vLl9sYXN0TG9nQ291bnQtby5fdGhyb3R0bGVNaW47aWYoby5fbGFzdExvZyYmZT4wKXt2YXIgcj1pKG8uX2xhc3RMb2cuYXJncyk7ZT4xJiZyLnB1c2goXCIocmVwZWF0ZWQgXCIuY29uY2F0KGUsXCIgdGltZXMpXCIpKSxvLl9sb2cocyhzKHt9LG8uX2xhc3RMb2cpLHt9LHthcmdzOnJ9KSksby5fbGFzdExvZ0NvdW50PTF9aWYodCl7aWYoby5fbGFzdExvZz1uLG8uX2FzeW5jKXJldHVybiBvLl9sb2dBc3luYyhuKTtvLl9sb2cobil9fTtjbGVhclRpbWVvdXQodGhpcy5fdGhyb3R0bGVUaW1lb3V0KTt2YXIgbD10aGlzLl9sYXN0TG9nVGltZT9uLmRhdGUtdGhpcy5fbGFzdExvZ1RpbWU6MDtpZih0aGlzLl9sYXN0TG9nVGltZT1uLmRhdGUsbDx0aGlzLl90aHJvdHRsZSl0cnl7dmFyIHU9SlNPTi5zdHJpbmdpZnkoW24udHlwZSxuLnRhZyxuLmFyZ3NdKSxjPXRoaXMuX2xhc3RMb2dTZXJpYWxpemVkPT09dTtpZih0aGlzLl9sYXN0TG9nU2VyaWFsaXplZD11LGMmJih0aGlzLl9sYXN0TG9nQ291bnQrKyx0aGlzLl9sYXN0TG9nQ291bnQ+dGhpcy5fdGhyb3R0bGVNaW4pKXJldHVybiB2b2lkKHRoaXMuX3Rocm90dGxlVGltZW91dD1zZXRUaW1lb3V0KGEsdGhpcy5fdGhyb3R0bGUpKX1jYXRjaCh0KXt9YSghMCl9fSx7a2V5OlwiX2xvZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLHI9dSh0aGlzLl9yZXBvcnRlcnMpO3RyeXtmb3Ioci5zKCk7IShlPXIubigpKS5kb25lOyl7ZS52YWx1ZS5sb2codCx7YXN5bmM6ITEsc3Rkb3V0OnRoaXMuc3Rkb3V0LHN0ZGVycjp0aGlzLnN0ZGVycn0pfX1jYXRjaCh0KXtyLmUodCl9ZmluYWxseXtyLmYoKX19fSx7a2V5OlwiX2xvZ0FzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5fcmVwb3J0ZXJzLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIHIubG9nKHQse2FzeW5jOiEwLHN0ZG91dDplLnN0ZG91dCxzdGRlcnI6ZS5zdGRlcnJ9KX0pKSl9fSx7a2V5Olwic3Rkb3V0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZG91dHx8Y29uc29sZS5fc3Rkb3V0fX0se2tleTpcInN0ZGVyclwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGRlcnJ8fGNvbnNvbGUuX3N0ZGVycn19XSksZX0oKTtkLnByb3RvdHlwZS5hZGQ9ZC5wcm90b3R5cGUuYWRkUmVwb3J0ZXIsZC5wcm90b3R5cGUucmVtb3ZlPWQucHJvdG90eXBlLnJlbW92ZVJlcG9ydGVyLGQucHJvdG90eXBlLmNsZWFyPWQucHJvdG90eXBlLnJlbW92ZVJlcG9ydGVyLGQucHJvdG90eXBlLndpdGhTY29wZT1kLnByb3RvdHlwZS53aXRoVGFnLGQucHJvdG90eXBlLm1vY2s9ZC5wcm90b3R5cGUubW9ja1R5cGVzLGQucHJvdG90eXBlLnBhdXNlPWQucHJvdG90eXBlLnBhdXNlTG9ncyxkLnByb3RvdHlwZS5yZXN1bWU9ZC5wcm90b3R5cGUucmVzdW1lTG9nczt2YXIgdixnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShyKXt0KHRoaXMsZSksdGhpcy5vcHRpb25zPU9iamVjdC5hc3NpZ24oe30sciksdGhpcy5kZWZhdWx0Q29sb3I9XCIjN2Y4YzhkXCIsdGhpcy5sZXZlbENvbG9yTWFwPXswOlwiI2MwMzkyYlwiLDE6XCIjZjM5YzEyXCIsMzpcIiMwMEJDRDRcIn0sdGhpcy50eXBlQ29sb3JNYXA9e3N1Y2Nlc3M6XCIjMmVjYzcxXCJ9fXJldHVybiByKGUsW3trZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmxldmVsPDE/Y29uc29sZS5fX2Vycm9yfHxjb25zb2xlLmVycm9yOjE9PT10LmxldmVsJiZjb25zb2xlLndhcm4/Y29uc29sZS5fX3dhcm58fGNvbnNvbGUud2Fybjpjb25zb2xlLl9fbG9nfHxjb25zb2xlLmxvZyxyPVwibG9nXCIhPT10LnR5cGU/dC50eXBlOlwiXCIsbz10LnRhZz90LnRhZzpcIlwiLG49dGhpcy50eXBlQ29sb3JNYXBbdC50eXBlXXx8dGhpcy5sZXZlbENvbG9yTWFwW3QubGV2ZWxdfHx0aGlzLmRlZmF1bHRDb2xvcixzPVwiXFxuICAgICAgYmFja2dyb3VuZDogXCIuY29uY2F0KG4sXCI7XFxuICAgICAgYm9yZGVyLXJhZGl1czogMC41ZW07XFxuICAgICAgY29sb3I6IHdoaXRlO1xcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICAgIHBhZGRpbmc6IDJweCAwLjVlbTtcXG4gICAgXCIpLGE9XCIlY1wiLmNvbmNhdChbbyxyXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIjpcIikpO1wic3RyaW5nXCI9PXR5cGVvZiB0LmFyZ3NbMF0/ZS5hcHBseSh2b2lkIDAsW1wiXCIuY29uY2F0KGEsXCIlYyBcIikuY29uY2F0KHQuYXJnc1swXSkscyxcIlwiXS5jb25jYXQoaSh0LmFyZ3Muc2xpY2UoMSkpKSk6ZS5hcHBseSh2b2lkIDAsW2Esc10uY29uY2F0KGkodC5hcmdzKSkpfX1dKSxlfSgpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jb25zb2xhfHwoKHY9bmV3IGQoe3JlcG9ydGVyczpbbmV3IGddfSkpLkNvbnNvbGE9ZCx2LkxvZ0xldmVsPWMsdi5Ccm93c2VyUmVwb3J0ZXI9Zyx2KX0pKTtcbiIsIi8qXG5nbG9iYWwgUGhhc2VyXG4qL1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBQcmVsb2FkU2NlbmUgZnJvbSAnc2NlbmVzL1ByZWxvYWRTY2VuZSc7XG5pbXBvcnQgTWFpblNjZW5lIGZyb20gJ3NjZW5lcy9NYWluU2NlbmUnO1xuaW1wb3J0IE1lbnVTY2VuZSBmcm9tICdzY2VuZXMvTWVudVNjZW5lJztcbmltcG9ydCBVSVNjZW5lIGZyb20gJ3NjZW5lcy9VSVNjZW5lJztcbmltcG9ydCBTb3VuZE1hbmFnZXJTY2VuZSBmcm9tICcuL3NjZW5lcy9Tb3VuZE1hbmFnZXJTY2VuZSc7XG5pbXBvcnQgR2FtZU92ZXJTY2VuZSBmcm9tICcuL3NjZW5lcy9HYW1lT3ZlclNjZW5lJztcbmltcG9ydCBWaWN0b3J5U2NlbmUgZnJvbSAnLi9zY2VuZXMvVmljdG9yeVNjZW5lJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5HYW1lIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBjb25zdCBnYW1lQ29uZmlnID0ge1xuICAgICAgICAgICAgdHlwZSA6IFBoYXNlci5BVVRPLFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICBtb2RlICAgICAgOiBQaGFzZXIuU2NhbGUuRklULFxuICAgICAgICAgICAgICAgIHBhcmVudCAgICA6ICdwaGFzZXItZ2FtZScsXG4gICAgICAgICAgICAgICAgYXV0b0NlbnRlcjogUGhhc2VyLlNjYWxlLkNFTlRFUl9CT1RILFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICA6IGNvbmZpZy5HQU1FX1dJRFRILFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICA6IGNvbmZpZy5HQU1FX0hFSUdIVCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaHlzaWNzOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogJ21hdHRlcicsXG4gICAgICAgICAgICAgICAgbWF0dGVyIDoge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyAgOiBjb25maWcuREVCVUcsXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2VuZTogW1ByZWxvYWRTY2VuZSwgTWVudVNjZW5lLCBNYWluU2NlbmUsIFVJU2NlbmUsIFNvdW5kTWFuYWdlclNjZW5lLCBHYW1lT3ZlclNjZW5lLCBWaWN0b3J5U2NlbmVdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHN1cGVyKGdhbWVDb25maWcpO1xuICAgIH1cbn1cblxuIiwiLyogZ2xvYmFsIFBoYXNlciAqL1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IGNvbnNvbGEgPSByZXF1aXJlKCdjb25zb2xhJykud2l0aFRhZygnU3ViJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1YiBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5HYW1lT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnLnNjZW5lKTtcblxuICAgICAgICB0aGlzLmhhc1dvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN1YlNwcml0ZSA9IGNvbmZpZy5zY2VuZS5hZGQuc3ByaXRlKGNvbmZpZy5zdWIueCwgY29uZmlnLnN1Yi55LCBjb25maWcuc3ViLmtleSk7XG4gICAgICAgIHRoaXMuc3ViU3ByaXRlLnNldFBpcGVsaW5lKCdMaWdodDJEJyk7XG4gICAgICAgIHRoaXMucHJvcFNwcml0ZSA9IGNvbmZpZy5zY2VuZS5hZGQuc3ByaXRlKGNvbmZpZy5wcm9wLngsIGNvbmZpZy5wcm9wLnksIGNvbmZpZy5wcm9wLmtleSkucGxheSgncHJvcGVsbGVyQW5pbWF0aW9uJyk7XG4gICAgICAgIHRoaXMucHJvcFNwcml0ZS5zZXRQaXBlbGluZSgnTGlnaHQyRCcpO1xuXG4gICAgICAgIHRoaXMuc3ViQ29udGFpbmVyID0gY29uZmlnLnNjZW5lLmFkZC5jb250YWluZXIoY29uZmlnLnBvcy54LCBjb25maWcucG9zLnksIFt0aGlzLnByb3BTcHJpdGUsIHRoaXMuc3ViU3ByaXRlXSk7XG5cbiAgICAgICAgY29uc3QgY29sR3JvdXAgPSBjb25maWcuc2NlbmUubWF0dGVyLndvcmxkLm5leHRHcm91cCgpO1xuICAgICAgICB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lciA9IGNvbmZpZy5zY2VuZS5tYXR0ZXIuYWRkLmdhbWVPYmplY3QodGhpcy5zdWJDb250YWluZXIsIHsgc2hhcGU6IGNvbmZpZy5zdWJTaGFwZSB9KTtcbiAgICAgICAgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIuc2V0U2NhbGUoMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci5zZXRDb2xsaXNpb25Hcm91cChjb2xHcm91cCk7XG5cbiAgICAgICAgLy8gcmVsYXRpdmUgdG8gc3ByaXRlIG9yaWdpblxuICAgICAgICB0aGlzLmxpZ2h0TG9jYXRpb24gPSB7XG4gICAgICAgICAgICB4OiAxMzUgLSB0aGlzLnN1YlNwcml0ZS53aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiAyMCAtIHRoaXMuc3ViU3ByaXRlLmhlaWdodCAvIDIsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5saWdodENvbG9yID0gMHhmZmZmZmY7XG5cbiAgICAgICAgdGhpcy5saWdodENoYXJnZUxldmVsID0gMS4wO1xuICAgICAgICB0aGlzLmhlYWx0aCA9IDEuMDtcblxuICAgICAgICB0aGlzLmhhc0xvb3QgPSBmYWxzZTtcblxuICAgICAgICBjb25maWcuc2NlbmUudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheSAgICAgICAgOiAxMDAwLFxuICAgICAgICAgICAgbG9vcCAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrICAgICA6IHRoaXMubGlnaHRQb3dlclRpY2ssXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxpZ2h0cyhjb25maWcuc2NlbmUpO1xuICAgIH1cblxuICAgIGxpZ2h0UG93ZXJUaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5saWdodElzT24oKSAmJiAhY29uZmlnLkxJR0hUU19BTFdBWVNfT04pIHtcbiAgICAgICAgICAgIHRoaXMubGlnaHRDaGFyZ2VMZXZlbCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMubGlnaHRDaGFyZ2VMZXZlbCAtIC4xLCAwLCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpZ2h0Q2hhcmdlTGV2ZWwgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xhLmluZm8oJ291dCBvZiBwb3dlcicpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTGlnaHRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdsaWdodENoYXJnZUNoYW5nZWQnLCB0aGlzLmxpZ2h0Q2hhcmdlTGV2ZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGtleXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGVhZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBzdXJmYWNlTGV2ZWwgPSAoY29uZmlnLlNLWV9IRUlHSFQgLSA2MCkgKyAodGhpcy5zdWJTcHJpdGUuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBjb25zdCBhdFN1cmZhY2UgPSB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci55IDwgc3VyZmFjZUxldmVsO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzV29uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVJbnB1dChrZXlzLCBhdFN1cmZhY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBsZXJwUm90YXRpb24gPSBQaGFzZXIuTWF0aC5MaW5lYXIodGhpcy5zdWJNYXR0ZXJDb250YWluZXIucm90YXRpb24sIDAsIDAuMik7XG5cbiAgICAgICAgICAgIHRoaXMuc3ViTWF0dGVyQ29udGFpbmVyLnNldFJvdGF0aW9uKGxlcnBSb3RhdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChhdFN1cmZhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci55ID0gc3VyZmFjZUxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saWdodC54ID0gdGhpcy5saWdodExvY2F0aW9uLnggKyB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci54O1xuICAgICAgICB0aGlzLmxpZ2h0LnkgPSB0aGlzLmxpZ2h0TG9jYXRpb24ueSArIHRoaXMuc3ViTWF0dGVyQ29udGFpbmVyLnk7XG4gICAgfVxuXG4gICAgZmxpY2tlckxpZ2h0cygpIHtcbiAgICAgICAgY29uc29sYS5pbmZvKCdmbGlja2VyJyk7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxMDAsIDUwMCk7XG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheSAgICAgICAgOiBkZWxheSxcbiAgICAgICAgICAgIGxvb3AgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbGJhY2sgICAgIDogdGhpcy5mbGlja2VyTGlnaHRzLFxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVMaWdodHMoKTtcbiAgICB9XG5cbiAgICB0b2dnbGVMaWdodHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5saWdodElzT24oKSAmJiB0aGlzLmxpZ2h0Q2hhcmdlTGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0LnNldFJhZGl1cygzMDApO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGVhZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdCgnbGlnaHRzT24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGlnaHQuc2V0RW1wdHkoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0RlYWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ2xpZ2h0c09mZicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGlnaHRJc09uKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubGlnaHQuaXNFbXB0eSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpZ2h0cyhzY2VuZSkge1xuICAgICAgICB0aGlzLmxpZ2h0ID0gc2NlbmUubGlnaHRzLmFkZExpZ2h0KHRoaXMubGlnaHRMb2NhdGlvbi54ICsgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIueCxcbiAgICAgICAgICAgIHRoaXMubGlnaHRMb2NhdGlvbi55ICsgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIueSwgMzAwKVxuICAgICAgICAgICAgLnNldENvbG9yKHRoaXMubGlnaHRDb2xvcikuc2V0SW50ZW5zaXR5KDUpO1xuICAgIH1cblxuICAgIHBpY2t1cEdsb3dGaXNoKCkge1xuICAgICAgICBjb25zb2xhLmluZm8oJ3BpY2tlZCB1cCBnbG93ZmlzaCcpO1xuICAgICAgICB0aGlzLmxpZ2h0Q2hhcmdlTGV2ZWwgPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLmxpZ2h0Q2hhcmdlTGV2ZWwgKyAuMywgMCwgMSk7XG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ2xpZ2h0Q2hhcmdlQ2hhbmdlZCcsIHRoaXMubGlnaHRDaGFyZ2VMZXZlbCk7XG4gICAgfVxuXG4gICAgdGFrZURhbWFnZShhbW91bnQpIHtcbiAgICAgICAgaWYgKCFjb25maWcuSU5WVUxORVJBQkxFKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWx0aCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMuaGVhbHRoIC0gYW1vdW50LCAwLCAxKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ2hlYWx0aENoYW5nZWQnLCB0aGlzLmhlYWx0aCk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNMb290KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJTcHJpdGUuc2V0VGV4dHVyZSgnc3ViLWxvb3QtZGFtYWdlZC1pbWFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJTcHJpdGUuc2V0VGV4dHVyZSgnc3ViLWRhbWFnZWQtaW1hZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWx0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGEuaW5mbygnZGVhZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcFNwcml0ZS5hbmltcy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RlYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlYWx0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBmbGlwWChkaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci5zZXRTY2FsZSgwLjUsIDAuNSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLnN1Yk1hdHRlckNvbnRhaW5lci5zZXRTY2FsZSgtMC41LCAwLjUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29sbGVjdExvb3QoKSB7XG4gICAgICAgIC8vIGNoYW5nZSB0ZXh0dXJlIGFuZCBib2R5IHNoYXBlXG4gICAgICAgIHRoaXMuc3ViU3ByaXRlLnNldFRleHR1cmUoJ3N1Yi1sb290LWltYWdlJyk7XG4gICAgICAgIHRoaXMuaGFzTG9vdCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVsaXZlckxvb3QoKSB7XG4gICAgICAgIHRoaXMuc3ViU3ByaXRlLnNldFRleHR1cmUoJ3N1Yi1pbWFnZScpO1xuICAgICAgICB0aGlzLmhhc0xvb3QgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVJbnB1dChrZXlzLCBhdFN1cmZhY2UpIHtcbiAgICAgICAgaWYgKGtleXMuVy5pc0Rvd24gJiYgIWF0U3VyZmFjZSkge1xuICAgICAgICAgICAgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIudGhydXN0TGVmdChjb25maWcuVEhSVVNUX1BPV0VSKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5cy5BLmlzRG93bikge1xuICAgICAgICAgICAgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIudGhydXN0QmFjayhjb25maWcuVEhSVVNUX1BPV0VSKTtcbiAgICAgICAgICAgIHRoaXMuZmxpcFgoJ2xlZnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5cy5TLmlzRG93bikge1xuICAgICAgICAgICAgdGhpcy5zdWJNYXR0ZXJDb250YWluZXIudGhydXN0UmlnaHQoY29uZmlnLlRIUlVTVF9QT1dFUik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleXMuRC5pc0Rvd24pIHtcbiAgICAgICAgICAgIHRoaXMuc3ViTWF0dGVyQ29udGFpbmVyLnRocnVzdChjb25maWcuVEhSVVNUX1BPV0VSKTtcbiAgICAgICAgICAgIHRoaXMuZmxpcFgoJ3JpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgRU5WICovXG5cbmNvbnN0IGNvbmZpZyA9IHtcbiAgICBHQU1FX1dJRFRIICAgICAgOiAxMDI0LFxuICAgIEdBTUVfSEVJR0hUICAgICA6IDU3NixcbiAgICBXT1JMRF9XSURUSCAgICAgOiAyMDAwLFxuICAgIFdPUkxEX0hFSUdIVCAgICA6IDMwMDAsXG4gICAgREVCVUcgICAgICAgICAgIDogZmFsc2UsXG4gICAgVEhSVVNUX1BPV0VSICAgIDogMC4wMDA4NSxcbiAgICBMSUdIVFNfQUxXQVlTX09OOiB0cnVlLFxuICAgIElOVlVMTkVSQUJMRSAgICA6IGZhbHNlLFxuICAgIFNLWV9IRUlHSFQgICAgICA6IDEwMCxcbiAgICBHUkFWSVRZICAgICAgICAgOiAuNzUsXG4gICAgRElTQUJMRV9TT1VORFMgIDogZmFsc2UsXG59O1xuXG5pZiAoRU5WID09PSAnZGV2Jykge1xuICAgIGNvbmZpZy5MT0dfTEVWRUwgPSBJbmZpbml0eTtcbn1cbmVsc2UgaWYgKEVOViA9PT0gJ3Byb2QnKSB7XG4gICAgY29uZmlnLkxPR19MRVZFTCA9IDM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImltcG9ydCBHYW1lIGZyb20gJy4vR2FtZS5qcyc7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIC8vIExhdW5jaCB0aGUgZ2FtZSBvbmNlIHRoZSBwYWdlIGxvYWRzXG4gICAgbmV3IEdhbWUoKTtcbn0pO1xuIiwiLyogZ2xvYmFsIFBoYXNlciAqL1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVPdmVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7IGtleTogJ0dhbWVPdmVyU2NlbmUnLCBhY3RpdmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UpOyAvLyBoaWRlIHVubGVzcyBzcGVjaWZpY2FsbHkgc2hvd25cblxuICAgICAgICBjb25zdCBnYW1lT3ZlclRleHQgPSB0aGlzLmFkZC50ZXh0KGNvbmZpZy5HQU1FX1dJRFRIIC8gMiwgY29uZmlnLkdBTUVfSEVJR0hUIC8gMiwgJ0dhbWUgT3ZlcicsIHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcgfSk7XG4gICAgICAgIGdhbWVPdmVyVGV4dC54IC09IGdhbWVPdmVyVGV4dC53aWR0aCAvIDI7XG5cbiAgICAgICAgY29uc3QgcmVzdGFydEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQoY29uZmlnLkdBTUVfV0lEVEggLyAyLCBnYW1lT3ZlclRleHQueSArIGdhbWVPdmVyVGV4dC5oZWlnaHQgKyAyMCwgJ1Jlc3RhcnQgR2FtZScsIHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMCcgfSk7XG4gICAgICAgIHJlc3RhcnRCdXR0b24ueCAtPSByZXN0YXJ0QnV0dG9uLndpZHRoIC8gMjtcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5zZXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgICByZXN0YXJ0QnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnYW1lU2NlbmUgPSB0aGlzLnNjZW5lLmdldCgnTWFpblNjZW5lJyk7XG4gICAgICAgICAgICBjb25zdCB1aVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ1VJU2NlbmUnKTtcbiAgICAgICAgICAgIHVpU2NlbmUuc2NlbmUucmVzdGFydCgpO1xuICAgICAgICAgICAgZ2FtZVNjZW5lLnNjZW5lLnJlc3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qIGdsb2JhbCBQaGFzZXIgKi9cblxuY29uc3QgY29uc29sYSA9IHJlcXVpcmUoJ2NvbnNvbGEnKS53aXRoVGFnKCdNYWluU2NlbmUnKTtcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuaW1wb3J0IFN1YiBmcm9tICcuLi9hY3RvcnMvU3ViJztcbi8vIGltcG9ydCBHbG93RmlzaCBmcm9tICcuLi9hY3RvcnMvR2xvd0Zpc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHsga2V5OiAnTWFpblNjZW5lJyB9KTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc29sYS5pbmZvKCdDcmVhdGUnKTtcblxuICAgICAgICB0aGlzLnZpY3RvcnkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUodHJ1ZSwgJ1VJU2NlbmUnKTtcbiAgICAgICAgdGhpcy5zY2VuZS5zZXRWaXNpYmxlKGZhbHNlLCAnR2FtZU92ZXJTY2VuZScpO1xuICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UsICdWaWN0b3J5U2NlbmUnKTtcblxuICAgICAgICB0aGlzLmxpZ2h0cy5lbmFibGUoKS5zZXRBbWJpZW50Q29sb3IoMHgxMTExMTEpO1xuXG4gICAgICAgIGNvbnN0IHNreSA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHNreS5maWxsU3R5bGUoMHg5OWNjZmYpO1xuICAgICAgICBza3kuZmlsbFJlY3QoMCwgMCwgY29uZmlnLldPUkxEX1dJRFRILCBjb25maWcuU0tZX0hFSUdIVCk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBBY3RvcnMgdG8gdGhlIHNjZW5lXG4gICAgICAgIC8vIEJhcmdlIHNwcml0ZVxuICAgICAgICB0aGlzLmJhcmdlU3ByaXRlID0gdGhpcy5hZGQuc3ByaXRlKDEwMDAsIDgwLCAnYmFyZ2UtaW1hZ2UnKTtcbiAgICAgICAgdGhpcy5iYXJnZVNwcml0ZS5zY2FsZSA9IDEuMjtcblxuICAgICAgICB0aGlzLnNoYXBlcyA9IHRoaXMuY2FjaGUuanNvbi5nZXQoJ3NoYXBlcycpO1xuICAgICAgICB0aGlzLm1hdHRlci53b3JsZC5zZXRCb3VuZHMoMCwgMCwgY29uZmlnLldPUkxEX1dJRFRILCBjb25maWcuV09STERfSEVJR0hUKTtcblxuICAgICAgICB0aGlzLmdyb3VuZEdyb3VwID0gdGhpcy5tYXR0ZXIud29ybGQubmV4dEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IGdyb3VuZCA9IHRoaXMubWF0dGVyLmFkZC5zcHJpdGUoMCwgMCwgJ2dyb3VuZC1pbWFnZScsIG51bGwsXG4gICAgICAgICAgICB7IHNoYXBlOiB0aGlzLnNoYXBlcy5ncm91bmQgfSkuc2V0Q29sbGlzaW9uR3JvdXAodGhpcy5ncm91bmRHcm91cCk7XG5cbiAgICAgICAgdGhpcy5idWJibGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUJ1YmJsZXMoMjAwLCAxODAwLCAyMDAsIDEwMDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheSAgICAgICAgOiAyMDAwLFxuICAgICAgICAgICAgbG9vcCAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrICAgICA6IHRoaXMuZ2VuZXJhdGVCdWJibGVzLFxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3JvdW5kLnNldFBvc2l0aW9uKDk3NSArIGdyb3VuZC5jZW50ZXJPZk1hc3MueCwgMTgyMCArIGdyb3VuZC5jZW50ZXJPZk1hc3MueSk7XG4gICAgICAgIGdyb3VuZC5zZXRQaXBlbGluZSgnTGlnaHQyRCcpO1xuXG4gICAgICAgIHRoaXMuc3ViID0gbmV3IFN1Yih7XG4gICAgICAgICAgICBzY2VuZTogdGhpcyxcbiAgICAgICAgICAgIHN1YiAgOiB7XG4gICAgICAgICAgICAgICAgeCAgOiAtMjIsXG4gICAgICAgICAgICAgICAgeSAgOiAtMjAsXG4gICAgICAgICAgICAgICAga2V5OiAnc3ViLWltYWdlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9wOiB7XG4gICAgICAgICAgICAgICAgeCAgOiA4MixcbiAgICAgICAgICAgICAgICB5ICA6IDM2LFxuICAgICAgICAgICAgICAgIGtleTogJ3Byb3BlbGxlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9zICAgICA6IHsgeDogMTAwMCwgeTogMTMwIH0sXG4gICAgICAgICAgICBzdWJTaGFwZTogdGhpcy5zaGFwZXMuU3ViX0Jhc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZ2xvd0Zpc2hHcm91cCA9IHRoaXMubWF0dGVyLndvcmxkLm5leHRHcm91cCh0cnVlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguQmV0d2VlbigyMDAsIDE1MDApO1xuICAgICAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4oY29uZmlnLlNLWV9IRUlHSFQgKyA1MCwgMzAwKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RnJhbWUgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDAsIDMwKTtcbiAgICAgICAgICAgIGNvbnN0IGdsb3dGaXNoID0gdGhpcy5tYXR0ZXIuYWRkLnNwcml0ZSh4LCB5LCAnZ2xvdy1maXNoJykucGxheSh7IGtleTogJ2dsb3dGaXNoQW5pbWF0aW9uJywgc3RhcnRGcmFtZSB9KTtcbiAgICAgICAgICAgIGdsb3dGaXNoLnNldENvbGxpc2lvbkdyb3VwKHRoaXMuZ2xvd0Zpc2hHcm91cCk7XG4gICAgICAgICAgICBnbG93RmlzaC5zZXRTY2FsZSgwLjI1LCAwLjI1KTtcbiAgICAgICAgICAgIGdsb3dGaXNoLnNldFBpcGVsaW5lKCdMaWdodDJEJyk7XG4gICAgICAgICAgICBnbG93RmlzaC5kaXJlY3Rpb25YID0gUGhhc2VyLk1hdGguQmV0d2VlbigtMSwgMSk7XG4gICAgICAgICAgICBnbG93RmlzaC5zZXRJZ25vcmVHcmF2aXR5KHRydWUpO1xuICAgICAgICAgICAgaWYgKGdsb3dGaXNoLmRpcmVjdGlvblggPT09IDApIHtcbiAgICAgICAgICAgICAgICBnbG93RmlzaC5kaXJlY3Rpb25YID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbGFjZSBTaGlwd3JlY2sgYW5kIGxvb3RcbiAgICAgICAgdGhpcy5jcmVhdGVTaGlwd3JlY2tMb290KCk7XG5cbiAgICAgICAgLy8gQ29sbGlzaW9uIGNoZWNrc1xuICAgICAgICB0aGlzLmNvbGxpc2lvbkNoZWNrcygpO1xuXG4gICAgICAgIC8vIFNldCB1cCB0aGUgY2FtZXJhXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcygwLCAwLCBjb25maWcuV09STERfV0lEVEgsIGNvbmZpZy5XT1JMRF9IRUlHSFQpO1xuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zdGFydEZvbGxvdyh0aGlzLnN1Yi5zdWJNYXR0ZXJDb250YWluZXIsIGZhbHNlLCAwLjA1LCAwLjA1KTtcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QmFja2dyb3VuZENvbG9yKDB4MDA0MDgwKTtcblxuICAgICAgICAvLyBGdWxsc2NyZWVuIGJ1dHRvblxuICAgICAgICAvLyBUT0RPOiBBZGQgdGhpcyBpbiB0aGUgcmlnaHQgcG9zaXRpb25cbiAgICAgICAgLy8gY29uc3QgZnVsbHNjcmVlbkJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKGNvbmZpZy5HQU1FX1dJRFRIIC0gMTYsIDE2LCAnZnVsbHNjcmVlbicsIDApXG4gICAgICAgIC8vIC5zZXRPcmlnaW4oMSwgMCkuc2V0SW50ZXJhY3RpdmUoKTtcbiAgICAgICAgLy8gZnVsbHNjcmVlbkJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAvLyAgICAgaWYgKHRoaXMuc2NhbGUuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sYS5kZWJ1ZygnU3RvcCBmdWxsc2NyZWVuJyk7XG4gICAgICAgIC8vICAgICAgICAgZnVsbHNjcmVlbkJ1dHRvbi5zZXRGcmFtZSgwKTtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNjYWxlLnN0b3BGdWxsc2NyZWVuKCk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xhLmRlYnVnKCdTdGFydCBmdWxsc2NyZWVuJyk7XG4gICAgICAgIC8vICAgICAgICAgZnVsbHNjcmVlbkJ1dHRvbi5zZXRGcmFtZSgxKTtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnNjYWxlLnN0YXJ0RnVsbHNjcmVlbigpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdwb2ludGVyZG93bicsIChwb2ludGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3ViLmlzRGVhZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWIudG9nZ2xlTGlnaHRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMua2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cygnVyxTLEEsRCcpO1xuICAgIH1cblxuICAgIGNvbGxpc2lvbkNoZWNrcygpIHtcbiAgICAgICAgdGhpcy5tYXR0ZXIud29ybGQub24oJ2NvbGxpc2lvbnN0YXJ0JywgKGV2ZW50LCBhLCBiKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3ViT2JqID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBvdGhlck9iaiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYS5nYW1lT2JqZWN0ID09PSB0aGlzLnN1Yi5zdWJNYXR0ZXJDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJPYmogPSBhO1xuICAgICAgICAgICAgICAgIG90aGVyT2JqID0gYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIuZ2FtZU9iamVjdCA9PT0gdGhpcy5zdWIuc3ViTWF0dGVyQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgc3ViT2JqID0gYjtcbiAgICAgICAgICAgICAgICBvdGhlck9iaiA9IGE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdWJPYmogJiYgIXRoaXMuc3ViLmlzRGVhZCgpICYmIG90aGVyT2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyT2JqLmNvbGxpc2lvbkZpbHRlci5ncm91cCA9PT0gdGhpcy5nbG93RmlzaEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViLnBpY2t1cEdsb3dGaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyT2JqLmdhbWVPYmplY3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdGhlck9iai5wYXJlbnQubGFiZWwgPT09ICdsb290Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RMb290KG90aGVyT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3RoZXJPYmouY29sbGlzaW9uRmlsdGVyLmdyb3VwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGEuaW5mbygnY29sbGlkZWQgd2l0aCBncm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWIudGFrZURhbWFnZSguNSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1Yi5pc0RlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXR0ZXIud29ybGQuc2V0R3Jhdml0eSgwLCBjb25maWcuR1JBVklUWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUodHJ1ZSwgJ0dhbWVPdmVyU2NlbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ViLmZsaWNrZXJMaWdodHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sYS5pbmZvKCd1bmtub3duIGNvbGxpc2lvbjogJyArIG90aGVyT2JqLmNvbGxpc2lvbkZpbHRlci5ncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUJ1YmJsZXMobWluWCA9IDIwMCwgbWF4WCA9IDE4MDAsIG1pblkgPSAyMDAwLCBtYXhZID0gMzAwMCkge1xuICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguQmV0d2VlbihtaW5YLCBtYXhYKTtcbiAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4obWluWSwgbWF4WSk7XG5cbiAgICAgICAgY29uc3QgZnJhbWVSYXRlID0gUGhhc2VyLk1hdGguQmV0d2Vlbig1LCAzMCk7XG4gICAgICAgIGNvbnN0IGJ1YmJsZSA9IHRoaXMuYWRkLnNwcml0ZSh4LCB5LCAnYnViYmxlcycpLnBsYXkoeyBrZXk6ICdidWJibGVzQW5pbWF0aW9uJywgZnJhbWVSYXRlIH0pO1xuICAgICAgICBidWJibGUuc2V0U2NhbGUoLjI1LCAuMjUpO1xuICAgICAgICBidWJibGUuc2V0UGlwZWxpbmUoJ0xpZ2h0MkQnKTtcbiAgICAgICAgYnViYmxlLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgYnViYmxlLnRpbnQgPSAweDAwMWEzMztcbiAgICAgICAgdGhpcy5idWJibGVzLnB1c2goYnViYmxlKTtcbiAgICB9XG5cbiAgICB1cGRhdGUodGltZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpY3RvcnkpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViLnVwZGF0ZSh0aGlzLmtleXMpO1xuICAgICAgICB9XG5cblxuICAgICAgICB0aGlzLnNldEFtYmllbnRDb2xvcigpO1xuXG4gICAgICAgIHRoaXMuYnViYmxlcy5mb3JFYWNoKChidWJibGUsIGluZGV4LCBvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGJ1YmJsZS55IC09IDUwICogZGVsdGEgLyAxMDAwO1xuICAgICAgICAgICAgaWYgKGJ1YmJsZS55IDwgY29uZmlnLlNLWV9IRUlHSFQpIHtcbiAgICAgICAgICAgICAgICBidWJibGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIG9iamVjdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hdHRlci53b3JsZC5nZXRBbGxCb2RpZXMoKS5mb3JFYWNoKChib2R5KSA9PiB7XG4gICAgICAgICAgICBpZiAoYm9keS5jb2xsaXNpb25GaWx0ZXIuZ3JvdXAgPT09IHRoaXMuZ2xvd0Zpc2hHcm91cCkge1xuICAgICAgICAgICAgICAgIGJvZHkuZ2FtZU9iamVjdC5zZXRWZWxvY2l0eVgoLjUgKiBib2R5LmdhbWVPYmplY3QuZGlyZWN0aW9uWCk7XG4gICAgICAgICAgICAgICAgYm9keS5nYW1lT2JqZWN0LmZsaXBYID0gYm9keS5nYW1lT2JqZWN0LmRpcmVjdGlvblggPCAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuZ2FtZU9iamVjdC54IDwgMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2FtZU9iamVjdC5kaXJlY3Rpb25YID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYm9keS5nYW1lT2JqZWN0LnggPiAxODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuZ2FtZU9iamVjdC5kaXJlY3Rpb25YID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW5Qb2ludHModGhpcy5zdWIuc3ViQ29udGFpbmVyLCB0aGlzLmJhcmdlU3ByaXRlKTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgMTIwICYmIHRoaXMuc3ViLmhhc0xvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsaXZlckxvb3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEFtYmllbnRDb2xvcigpIHtcbiAgICAgICAgY29uc3QgbGlnaHRBbWJpZW50ID0gUGhhc2VyLkRpc3BsYXkuQ29sb3IuSGV4U3RyaW5nVG9Db2xvcignMHgwMDY2Y2MnKTtcbiAgICAgICAgY29uc3QgZGFya0FtYmllbnQgPSBQaGFzZXIuRGlzcGxheS5Db2xvci5IZXhTdHJpbmdUb0NvbG9yKCcweDAnKTtcblxuICAgICAgICBjb25zdCBtYXhEYXJrRGVwdGggPSAyNTAwO1xuICAgICAgICBjb25zdCBzdWJEZXB0aCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMuc3ViLnN1Yk1hdHRlckNvbnRhaW5lci55LCAwLCBtYXhEYXJrRGVwdGgpO1xuXG4gICAgICAgIGNvbnN0IG5ld0FtYmllbnQgPSBQaGFzZXIuRGlzcGxheS5Db2xvci5JbnRlcnBvbGF0ZS5Db2xvcldpdGhDb2xvcihsaWdodEFtYmllbnQsIGRhcmtBbWJpZW50LFxuICAgICAgICAgICAgbWF4RGFya0RlcHRoLCBzdWJEZXB0aCk7XG4gICAgICAgIGNvbnN0IG5ld0FtYmllbnROdW1iZXIgPSBQaGFzZXIuRGlzcGxheS5Db2xvci5WYWx1ZVRvQ29sb3IobmV3QW1iaWVudCkuY29sb3I7XG4gICAgICAgIHRoaXMubGlnaHRzLnNldEFtYmllbnRDb2xvcihuZXdBbWJpZW50TnVtYmVyKTtcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QmFja2dyb3VuZENvbG9yKG5ld0FtYmllbnQpO1xuICAgIH1cblxuICAgIGNyZWF0ZVNoaXB3cmVja0xvb3QoKSB7XG4gICAgICAgIGNvbnN0IHNwYXduUG9zaXRpb25zID0gW1xuICAgICAgICAgICAgLy8gTGVmdFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxvb3QgOiB7IHg6IDMxNSwgeTogMjg4MCB9LFxuICAgICAgICAgICAgICAgIHdyZWNrOiB7IHg6IDI3NSwgeTogMjg4MCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIENlbnRlclxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxvb3QgOiB7IHg6IDEwNDUsIHk6IDI4NzAgfSxcbiAgICAgICAgICAgICAgICB3cmVjazogeyB4OiAxMDAwLCB5OiAyODcwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gUmlnaHRcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb290IDogeyB4OiAxODAwLCB5OiAyOTIwIH0sXG4gICAgICAgICAgICAgICAgd3JlY2s6IHsgeDogMTc2MCwgeTogMjkyMCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBQaWNrIGEgcmFuZG9tIHNwYXduIHBvaW50IGZvciB0aGUgbG9vdFxuICAgICAgICBjb25zdCBzcGF3blBvc2l0aW9uID0gc3Bhd25Qb3NpdGlvbnNbUGhhc2VyLk1hdGguQmV0d2VlbigwLCAyKV07XG5cbiAgICAgICAgY29uc3QgbG9vdEltYWdlID0gdGhpcy5tYXR0ZXIuYWRkLmltYWdlKHNwYXduUG9zaXRpb24ubG9vdC54LCBzcGF3blBvc2l0aW9uLmxvb3QueSwgJ2xvb3QtaW1hZ2UnLCBudWxsLFxuICAgICAgICAgICAgeyBzaGFwZTogdGhpcy5zaGFwZXMuTG9vdCwgbGFiZWw6ICdsb290JyB9KTtcblxuICAgICAgICBsb290SW1hZ2Uuc2V0U2NhbGUoMC41LCAwLjUpO1xuICAgICAgICBsb290SW1hZ2Uuc2V0UGlwZWxpbmUoJ0xpZ2h0MkQnKTtcblxuICAgICAgICBjb25zdCB3cmVja0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uoc3Bhd25Qb3NpdGlvbi53cmVjay54LCBzcGF3blBvc2l0aW9uLndyZWNrLnksICd3cmVjay1pbWFnZScpO1xuICAgICAgICB3cmVja0ltYWdlLnNldFNjYWxlKDAuNSwgMC41KTtcbiAgICAgICAgd3JlY2tJbWFnZS5zZXRQaXBlbGluZSgnTGlnaHQyRCcpO1xuICAgIH1cblxuICAgIGNvbGxlY3RMb290KGxvb3QpIHtcbiAgICAgICAgLy8gcmVtb3ZlIGxvb3QgZnJvbSBzY2VuZVxuICAgICAgICBsb290LmdhbWVPYmplY3QuZGVzdHJveSgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJcbiAgICAgICAgdGhpcy5zdWIuY29sbGVjdExvb3QoKTtcbiAgICB9XG5cbiAgICBkZWxpdmVyTG9vdCgpIHtcbiAgICAgICAgY29uc29sYS5sb2coJ0xvb3QgZGVsaXZlcmVkJyk7XG4gICAgICAgIHRoaXMuYmFyZ2VTcHJpdGUuc2V0VGV4dHVyZSgnYmFyZ2UtZmlsbGVkLWltYWdlJyk7XG4gICAgICAgIHRoaXMuc3ViLmRlbGl2ZXJMb290KCk7XG4gICAgICAgIHRoaXMuc2NlbmUuc2V0VmlzaWJsZSh0cnVlLCAnVmljdG9yeVNjZW5lJyk7XG4gICAgICAgIHRoaXMuc3ViLmhhc1dvbiA9IHRydWU7XG4gICAgfVxufVxuIiwiLyogZ2xvYmFsIFBoYXNlciAqL1xuXG5jb25zdCBjb25zb2xhID0gcmVxdWlyZSgnY29uc29sYScpLndpdGhUYWcoJ01lbnVTY2VuZScpO1xuXG4vKipcbiAqIE1lbnVTY2VuZSBpcyB0aGUgc2NlbmUgb2YgdGhlIG1haW4gbWVudSBvZiB0aGUgZ2FtZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuXG4gICAgLyoqXG4gICAgICogY29uc3RydWN0IHBhc3NpbmcgdGhlIHVuaXF1ZSBrZXkgdG8gdGhlIGdhbWUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoeyBrZXk6ICdNZW51U2NlbmUnIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgZ2FtZXMgTWFpbiBNZW51XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBnZW5lcmljIGRhdGEgdG8gcGFzcyBiZXR3ZWVuIHNjZW5lc1xuICAgICAqL1xuICAgIGNyZWF0ZShkYXRhKSB7XG4gICAgICAgIGNvbnNvbGEuaW5mbygnQ3JlYXRlJyk7XG5cbiAgICAgICAgLy8gVE9ETzogY3JlYXRlIGEgbWFpbiBtZW51IFwiUGxheVwiIGJ1dHRvblxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYWluU2NlbmUnKTtcbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgUGhhc2VyICovXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZyc7XG5cbmNvbnN0IGNvbnNvbGEgPSByZXF1aXJlKCdjb25zb2xhJykud2l0aFRhZygnUHJlbG9hZFNjZW5lJyk7XG5jb25zb2xhLmxldmVsID0gY29uZmlnLkxPR19MRVZFTDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlbG9hZFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7IGtleTogJ1ByZWxvYWRTY2VuZScgfSk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgY29uc29sYS50cmFjZSgnTG9hZGluZyBhc3NldHMuLicpO1xuXG4gICAgICAgIC8vIFN0YXRpYyBpbWFnZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdncm91bmQtaW1hZ2UnLCAnLi4vYXNzZXRzL2ltYWdlcy9ncm91bmQucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3ViLWltYWdlJywgJy4uL2Fzc2V0cy9pbWFnZXMvU3ViLUJhc2UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3ViLWxvb3QtaW1hZ2UnLCAnLi4vYXNzZXRzL2ltYWdlcy9TdWJfTG9vdC5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWItZGFtYWdlZC1pbWFnZScsICcuLi9hc3NldHMvaW1hZ2VzL1N1Yi1CYXNlLWRhbWFnZWQucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3ViLWxvb3QtZGFtYWdlZC1pbWFnZScsICcuLi9hc3NldHMvaW1hZ2VzL1N1Yi1Mb290LWRhbWFnZWQucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnd3JlY2staW1hZ2UnLCAnLi4vYXNzZXRzL2ltYWdlcy9TaGlwd3JlY2sucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9vdC1pbWFnZScsICcuLi9hc3NldHMvaW1hZ2VzL0xvb3QucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFyZ2UtaW1hZ2UnLCAnLi4vYXNzZXRzL2ltYWdlcy9CYXJnZS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYXJnZS1maWxsZWQtaW1hZ2UnLCAnLi4vYXNzZXRzL2ltYWdlcy9CYXJnZV9GaWxsZWQucG5nJyk7XG5cbiAgICAgICAgLy8gU3ByaXRlIHNoZWV0c1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2Z1bGxzY3JlZW4nLCAnLi4vYXNzZXRzL2ltYWdlcy9mdWxsc2NyZWVuLXdoaXRlLnBuZycsIHsgZnJhbWVXaWR0aDogNjQsIGZyYW1lSGVpZ2h0OiA2NCB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdwcm9wZWxsZXInLCAnLi4vYXNzZXRzL2ltYWdlcy9TdWItUHJvcC1zcHJpdGUtc2hlZXQucG5nJywgeyBmcmFtZVdpZHRoOiA1NiwgZnJhbWVIZWlnaHQ6IDI2IH0pO1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2dsb3ctZmlzaCcsICcuLi9hc3NldHMvaW1hZ2VzL0dsb3dfRmlzaF9BbmltYXRlZC1TcHJpdGVzaGVldC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIyMCwgZnJhbWVIZWlnaHQ6IDExNCB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdidWJibGVzJywgJy4uL2Fzc2V0cy9pbWFnZXMvQnViYmxlcyBTcHJpdGVzaGVldC5wbmcnLCB7IGZyYW1lV2lkdGg6IDE1NCwgZnJhbWVIZWlnaHQ6IDMwMCB9KTtcblxuICAgICAgICAvLyBQaHlzaWNzIHNoYXBlc1xuICAgICAgICB0aGlzLmxvYWQuanNvbignc2hhcGVzJywgJ2Fzc2V0cy9qc29uL3NoYXBlcy5qc29uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlLWNyZWF0ZSBhbnkgc3RhdGljIG9iamVjdHMgdGhhdCB3aWxsIGJlIHVzZWQgaW4gdGhlIGdhbWUgZS5nLiBhbmltYXRpb25zXG4gICAgICovXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zb2xhLnN1Y2Nlc3MoJ0dhbWUgbG9hZGVkJyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuaW1hdGlvbnNcbiAgICAgICAgY29uc3QgcHJvcEFuaW1Db25maWcgPSB7XG4gICAgICAgICAgICBrZXkgICAgICA6ICdwcm9wZWxsZXJBbmltYXRpb24nLFxuICAgICAgICAgICAgZnJhbWVzICAgOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwcm9wZWxsZXInLCB7IHN0YXJ0OiAwLCBlbmQ6IDMsIGZpcnN0OiAwIH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMCxcbiAgICAgICAgICAgIHJlcGVhdCAgIDogLTEsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHByb3BBbmltQ29uZmlnKTtcblxuICAgICAgICBjb25zdCBnbG93RmlzaEFuaW1Db25maWcgPSB7XG4gICAgICAgICAgICBrZXkgICAgICA6ICdnbG93RmlzaEFuaW1hdGlvbicsXG4gICAgICAgICAgICBmcmFtZXMgICA6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2dsb3ctZmlzaCcsIHsgc3RhcnQ6IDAsIGVuZDogMzAsIGZpcnN0OiAwIH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMCxcbiAgICAgICAgICAgIHJlcGVhdCAgIDogLTEsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKGdsb3dGaXNoQW5pbUNvbmZpZyk7XG5cbiAgICAgICAgY29uc3QgYnViYmxlc0FuaW1Db25maWcgPSB7XG4gICAgICAgICAgICBrZXkgICAgICA6ICdidWJibGVzQW5pbWF0aW9uJyxcbiAgICAgICAgICAgIGZyYW1lcyAgIDogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnYnViYmxlcycsIHsgc3RhcnQ6IDAsIGVuZDogMzAsIGZpcnN0OiAwIH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMCxcbiAgICAgICAgICAgIHJlcGVhdCAgIDogLTEsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKGJ1YmJsZXNBbmltQ29uZmlnKTtcblxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgUGhhc2VyICovXG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291bmRNYW5hZ2VyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcih7IGtleTogJ1NvdW5kTWFuYWdlclNjZW5lJywgYWN0aXZlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc3ViLWNyYXNoJywgJy4uL2Fzc2V0cy9zb3VuZHMvc3ViLWNyYXNoLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2xpZ2h0cy1vbicsICcuLi9hc3NldHMvc291bmRzL2xpZ2h0cy1vbi5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdsaWdodHMtb2ZmJywgJy4uL2Fzc2V0cy9zb3VuZHMvbGlnaHRzLW9mZi5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzd2FsbG93JywgJy4uL2Fzc2V0cy9zb3VuZHMvc3dhbGxvdy5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdwcm9wZWxsZXInLCAnLi4vYXNzZXRzL3NvdW5kcy9wcm9wZWxsZXIubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnbWFpbi1tdXNpYycsICcuLi9hc3NldHMvc291bmRzL2xkNDgtYW1iaWVudC1wbGF5LW11c2ljLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2J1YmJsZTEnLCAnLi4vYXNzZXRzL3NvdW5kcy9idWJibGUxLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2J1YmJsZTInLCAnLi4vYXNzZXRzL3NvdW5kcy9idWJibGUyLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2J1YmJsZTMnLCAnLi4vYXNzZXRzL3NvdW5kcy9idWJibGUzLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3doYWxlJywgJy4uL2Fzc2V0cy9zb3VuZHMvd2hhbGUubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2VhLWNyZWF0dXJlMScsICcuLi9hc3NldHMvc291bmRzL3NlYS1jcmVhdHVyZTEubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2VhLWNyZWF0dXJlMicsICcuLi9hc3NldHMvc291bmRzL3NlYS1jcmVhdHVyZTIubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBpZiAoY29uZmlnLkRJU0FCTEVfU09VTkRTKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5taXNjU291bmRzID0gW1xuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ2J1YmJsZTEnKSxcbiAgICAgICAgICAgIHRoaXMuc291bmQuYWRkKCdidWJibGUyJyksXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnYnViYmxlMycpLFxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ3doYWxlJyksXG4gICAgICAgICAgICB0aGlzLnNvdW5kLmFkZCgnc2VhLWNyZWF0dXJlMScpLFxuICAgICAgICAgICAgdGhpcy5zb3VuZC5hZGQoJ3NlYS1jcmVhdHVyZTInKSxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5zY2VuZS5nZXQoJ01haW5TY2VuZScpLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXkgICAgICAgIDogNTAwMCxcbiAgICAgICAgICAgIGxvb3AgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbGJhY2sgICAgIDogdGhpcy5wbGF5UmFuZG9tU291bmQsXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1YkNyYXNoID0gdGhpcy5zb3VuZC5hZGQoJ3N1Yi1jcmFzaCcpO1xuICAgICAgICB0aGlzLmxpZ2h0c09uID0gdGhpcy5zb3VuZC5hZGQoJ2xpZ2h0cy1vbicpO1xuICAgICAgICB0aGlzLmxpZ2h0c09mZiA9IHRoaXMuc291bmQuYWRkKCdsaWdodHMtb2ZmJyk7XG4gICAgICAgIHRoaXMuc3dhbGxvdyA9IHRoaXMuc291bmQuYWRkKCdzd2FsbG93Jyk7XG4gICAgICAgIHRoaXMucHJvcGVsbGVyID0gdGhpcy5zb3VuZC5hZGQoJ3Byb3BlbGxlcicpO1xuICAgICAgICB0aGlzLnByb3BlbGxlci5wbGF5KHsgbG9vcDogdHJ1ZSB9KTtcblxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdNYWluU2NlbmUnKTtcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuZXZlbnRzLm9uKCdoZWFsdGhDaGFuZ2VkJywgKGhlYWx0aCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdWJDcmFzaC5wbGF5KCk7XG4gICAgICAgICAgICBpZiAoaGVhbHRoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wZWxsZXIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5ldmVudHMub24oJ2xpZ2h0c09uJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saWdodHNPbi5wbGF5KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLmV2ZW50cy5vbignbGlnaHRzT2ZmJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saWdodHNPZmYucGxheSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5ldmVudHMub24oJ2xpZ2h0Q2hhcmdlQ2hhbmdlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3dhbGxvdy5wbGF5KHsgdm9sdW1lOiAwLjUgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFpbk11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ21haW4tbXVzaWMnKTtcbiAgICAgICAgdGhpcy5tYWluTXVzaWMucGxheSh7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4yNSB9KTtcbiAgICB9XG5cbiAgICBwbGF5UmFuZG9tU291bmQoKSB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbigxNTAwMCwgMzAwMCk7XG4gICAgICAgIHRoaXMuc2NlbmUuZ2V0KCdNYWluU2NlbmUnKS50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICAgIGRlbGF5ICAgICAgICA6IGRlbGF5LFxuICAgICAgICAgICAgbG9vcCAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBjYWxsYmFjayAgICAgOiB0aGlzLnBsYXlSYW5kb21Tb3VuZCxcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNvdW5kSW5kZXggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDAsIHRoaXMubWlzY1NvdW5kcy5sZW5ndGggLSAxKTtcbiAgICAgICAgdGhpcy5taXNjU291bmRzW3NvdW5kSW5kZXhdLnBsYXkoKTtcbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgUGhhc2VyICovXG4vLyBjb25zdCBjb25zb2xhID0gcmVxdWlyZSgnY29uc29sYScpLndpdGhUYWcoJ1VJU2NlbmUnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHsga2V5OiAnVUlTY2VuZScsIGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUuc2V0VmlzaWJsZShmYWxzZSk7IC8vIGhpZGUgdW5sZXNzIHNwZWNpZmljYWxseSBzZXQgdG8gdmlzaWJsZVxuXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ01haW5TY2VuZScpO1xuICAgICAgICB0aGlzLmdhbWVTY2VuZS5ldmVudHMub24oJ2xpZ2h0Q2hhcmdlQ2hhbmdlZCcsIChjaGFyZ2VMZXZlbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmF3UG93ZXJCYXIoY2hhcmdlTGV2ZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuZXZlbnRzLm9uKCdoZWFsdGhDaGFuZ2VkJywgKGhlYWx0aCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kcmF3SGVhbHRoQmFyKGhlYWx0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVJXG4gICAgICAgIHRoaXMucG93ZXJCYXIgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgICAgICB0aGlzLmhlYWx0aEJhciA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XG4gICAgICAgIHRoaXMuZHJhd1Bvd2VyQmFyKDEuMCk7XG4gICAgICAgIHRoaXMuZHJhd0hlYWx0aEJhcigxLjApO1xuICAgIH1cblxuICAgIGRyYXdQb3dlckJhcihjaGFyZ2VMZXZlbCkge1xuICAgICAgICB0aGlzLnBvd2VyQmFyLmZpbGxTdHlsZSgweDU1NTU1NSk7XG4gICAgICAgIHRoaXMucG93ZXJCYXIuZmlsbFJlY3QoMTAsIDEwLCA1MCwgMjApO1xuICAgICAgICB0aGlzLnBvd2VyQmFyLmZpbGxTdHlsZSgweGZmZmYwMCk7XG4gICAgICAgIHRoaXMucG93ZXJCYXIuZmlsbFJlY3QoMTAsIDEwLCA1MCAqIGNoYXJnZUxldmVsLCAyMCk7XG4gICAgfVxuXG4gICAgZHJhd0hlYWx0aEJhcihoZWFsdGgpIHtcbiAgICAgICAgdGhpcy5wb3dlckJhci5maWxsU3R5bGUoMHg1NTU1NTUpO1xuICAgICAgICB0aGlzLnBvd2VyQmFyLmZpbGxSZWN0KDEwLCA0MCwgNTAsIDIwKTtcbiAgICAgICAgdGhpcy5wb3dlckJhci5maWxsU3R5bGUoMHhmZjAwMDApO1xuICAgICAgICB0aGlzLnBvd2VyQmFyLmZpbGxSZWN0KDEwLCA0MCwgNTAgKiBoZWFsdGgsIDIwKTtcbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgUGhhc2VyICovXG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmljdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoeyBrZXk6ICdWaWN0b3J5U2NlbmUnLCBhY3RpdmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UpOyAvLyBoaWRlIHVubGVzcyBzcGVjaWZpY2FsbHkgc2hvd25cblxuICAgICAgICBjb25zdCB2aWN0b3J5VGV4dCA9IHRoaXMuYWRkLnRleHQoY29uZmlnLkdBTUVfV0lEVEggLyAyLCBjb25maWcuR0FNRV9IRUlHSFQgLyAyLCAnVmljdG9yeSEnLCB7IGJhY2tncm91bmRDb2xvcjogJyMwMDAnIH0pO1xuICAgICAgICB2aWN0b3J5VGV4dC54IC09IHZpY3RvcnlUZXh0LndpZHRoIC8gMjtcblxuICAgICAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gdGhpcy5hZGQudGV4dChjb25maWcuR0FNRV9XSURUSCAvIDIsIHZpY3RvcnlUZXh0LnkgKyB2aWN0b3J5VGV4dC5oZWlnaHQgKyAyMCwgJ1BsYXkgQWdhaW4nLCB7IGJhY2tncm91bmRDb2xvcjogJyMwMDAnIH0pO1xuICAgICAgICByZXN0YXJ0QnV0dG9uLnggLT0gcmVzdGFydEJ1dHRvbi53aWR0aCAvIDI7XG4gICAgICAgIHJlc3RhcnRCdXR0b24uc2V0SW50ZXJhY3RpdmUoKTtcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ01haW5TY2VuZScpO1xuICAgICAgICAgICAgY29uc3QgdWlTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdVSVNjZW5lJyk7XG4gICAgICAgICAgICB1aVNjZW5lLnNjZW5lLnJlc3RhcnQoKTtcbiAgICAgICAgICAgIGdhbWVTY2VuZS5zY2VuZS5yZXN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXX0="}