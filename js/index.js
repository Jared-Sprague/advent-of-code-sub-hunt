!function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return r(t[s][1][e]||e)}),c,c.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){var o,r;o=this,r=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,i=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,r=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw r}}}}var c={};c[c.Fatal=0]="Fatal",c[c.Error=0]="Error",c[c.Warn=1]="Warn",c[c.Log=2]="Log",c[c.Info=3]="Info",c[c.Success=3]="Success",c[c.Debug=4]="Debug",c[c.Trace=5]="Trace",c[c.Silent=-1/0]="Silent",c[c.Verbose=1/0]="Verbose";var f={silent:{level:-1},fatal:{level:c.Fatal},error:{level:c.Error},warn:{level:c.Warn},log:{level:c.Log},info:{level:c.Info},success:{level:c.Success},debug:{level:c.Debug},trace:{level:c.Trace},verbose:{level:c.Trace},ready:{level:c.Info},start:{level:c.Info}},h=!1,p=[],d=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var o in e(this,t),this._reporters=n.reporters||[],this._types=n.types||f,this.level=void 0!==n.level?n.level:3,this._defaults=n.defaults||{},this._async=void 0!==n.async?n.async:void 0,this._stdout=n.stdout,this._stderr=n.stderr,this._mockFn=n.mockFn,this._throttle=n.throttle||1e3,this._throttleMin=n.throttleMin||5,this._types){var r=i(i({type:o},this._types[o]),this._defaults);this[o]=this._wrapLogFn(r),this[o].raw=this._wrapLogFn(r,!0)}this._mockFn&&this.mockTypes(),this._lastLogSerialized=void 0,this._lastLog=void 0,this._lastLogTime=void 0,this._lastLogCount=0,this._throttleTimeout=void 0}return n(t,[{key:"create",value:function(e){return new t(Object.assign({reporters:this._reporters,level:this.level,types:this._types,defaults:this._defaults,stdout:this._stdout,stderr:this._stderr,mockFn:this._mockFn},e))}},{key:"withDefaults",value:function(e){return this.create({defaults:Object.assign({},this._defaults,e)})}},{key:"withTag",value:function(e){return this.withDefaults({tag:this._defaults.tag?this._defaults.tag+":"+e:e})}},{key:"addReporter",value:function(e){return this._reporters.push(e),this}},{key:"removeReporter",value:function(e){if(e){var t=this._reporters.indexOf(e);if(t>=0)return this._reporters.splice(t,1)}else this._reporters.splice(0);return this}},{key:"setReporters",value:function(e){return this._reporters=Array.isArray(e)?e:[e],this}},{key:"wrapAll",value:function(){this.wrapConsole(),this.wrapStd()}},{key:"restoreAll",value:function(){this.restoreConsole(),this.restoreStd()}},{key:"wrapConsole",value:function(){for(var e in this._types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}},{key:"restoreConsole",value:function(){for(var e in this._types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}},{key:"wrapStd",value:function(){this._wrapStream(this.stdout,"log"),this._wrapStream(this.stderr,"log")}},{key:"_wrapStream",value:function(e,t){var n=this;e&&(e.__write||(e.__write=e.write),e.write=function(e){n[t].raw(String(e).trim())})}},{key:"restoreStd",value:function(){this._restoreStream(this.stdout),this._restoreStream(this.stderr)}},{key:"_restoreStream",value:function(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}},{key:"pauseLogs",value:function(){h=!0}},{key:"resumeLogs",value:function(){h=!1;var e,t=l(p.splice(0));try{for(t.s();!(e=t.n()).done;){var n=e.value;n[0]._logFn(n[1],n[2])}}catch(e){t.e(e)}finally{t.f()}}},{key:"mockTypes",value:function(e){if(this._mockFn=e||this._mockFn,"function"==typeof this._mockFn)for(var t in this._types)this[t]=this._mockFn(t,this._types[t])||this[t],this[t].raw=this[t]}},{key:"_wrapLogFn",value:function(e,t){var n=this;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];if(!h)return n._logFn(e,r,t);p.push([n,e,r,t])}}},{key:"_logFn",value:function(e,t,n){var o=this;if(e.level>this.level)return!!this._async&&Promise.resolve(!1);var r=Object.assign({date:new Date,args:[]},e);!n&&1===t.length&&function(e){return t=e,!("[object Object]"!==Object.prototype.toString.call(t)||!e.message&&!e.args||e.stack);var t}(t[0])?Object.assign(r,t[0]):r.args=Array.from(t),r.message&&(r.args.unshift(r.message),delete r.message),r.additional&&(Array.isArray(r.additional)||(r.additional=r.additional.split("\n")),r.args.push("\n"+r.additional.join("\n")),delete r.additional),r.type="string"==typeof r.type?r.type.toLowerCase():"",r.tag="string"==typeof r.tag?r.tag.toLowerCase():"";var a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o._lastLogCount-o._throttleMin;if(o._lastLog&&t>0){var n=s(o._lastLog.args);t>1&&n.push("(repeated ".concat(t," times)")),o._log(i(i({},o._lastLog),{},{args:n})),o._lastLogCount=1}if(e){if(o._lastLog=r,o._async)return o._logAsync(r);o._log(r)}};clearTimeout(this._throttleTimeout);var u=this._lastLogTime?r.date-this._lastLogTime:0;if(this._lastLogTime=r.date,u<this._throttle)try{var l=JSON.stringify([r.type,r.tag,r.args]),c=this._lastLogSerialized===l;if(this._lastLogSerialized=l,c&&(this._lastLogCount++,this._lastLogCount>this._throttleMin))return void(this._throttleTimeout=setTimeout(a,this._throttle))}catch(e){}a(!0)}},{key:"_log",value:function(e){var t,n=l(this._reporters);try{for(n.s();!(t=n.n()).done;)t.value.log(e,{async:!1,stdout:this.stdout,stderr:this.stderr})}catch(e){n.e(e)}finally{n.f()}}},{key:"_logAsync",value:function(e){var t=this;return Promise.all(this._reporters.map((function(n){return n.log(e,{async:!0,stdout:t.stdout,stderr:t.stderr})})))}},{key:"stdout",get:function(){return this._stdout||console._stdout}},{key:"stderr",get:function(){return this._stderr||console._stderr}}]),t}();d.prototype.add=d.prototype.addReporter,d.prototype.remove=d.prototype.removeReporter,d.prototype.clear=d.prototype.removeReporter,d.prototype.withScope=d.prototype.withTag,d.prototype.mock=d.prototype.mockTypes,d.prototype.pause=d.prototype.pauseLogs,d.prototype.resume=d.prototype.resumeLogs;var y,b=function(){function t(n){e(this,t),this.options=Object.assign({},n),this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}return n(t,[{key:"log",value:function(e){var t=e.level<1?console.__error||console.error:1===e.level&&console.warn?console.__warn||console.warn:console.__log||console.log,n="log"!==e.type?e.type:"",o=e.tag?e.tag:"",r=this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor,i="\n      background: ".concat(r,";\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    "),a="%c".concat([o,n].filter(Boolean).join(":"));"string"==typeof e.args[0]?t.apply(void 0,["".concat(a,"%c ").concat(e.args[0]),i,""].concat(s(e.args.slice(1)))):t.apply(void 0,[a,i].concat(s(e.args)))}}]),t}();return"undefined"!=typeof window&&window.consola||((y=new d({reporters:[new b]})).Consola=d,y.LogLevel=c,y.BrowserReporter=b,y)},"object"==typeof n&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):(o=o||self).consola=r()},{}],2:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=h(e("./config")),i=h(e("scenes/PreloadScene")),s=h(e("scenes/MainScene")),a=h(e("scenes/MenuScene")),u=h(e("scenes/UIScene")),l=h(e("./scenes/SoundManagerScene")),c=h(e("./scenes/GameOverScene")),f=h(e("./scenes/VictoryScene"));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,Phaser.Game);var t=d(n);function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e={type:Phaser.AUTO,scale:{mode:Phaser.Scale.FIT,parent:"phaser-game",autoCenter:Phaser.Scale.CENTER_BOTH,width:r.default.GAME_WIDTH,height:r.default.GAME_HEIGHT},physics:{default:"matter",matter:{debug:r.default.DEBUG,gravity:{y:0}}},scene:[i.default,a.default,s.default,u.default,l.default,c.default,f.default]};return t.call(this,e)}return n}();n.default=g},{"./config":5,"./scenes/GameOverScene":7,"./scenes/SoundManagerScene":11,"./scenes/VictoryScene":13,"scenes/MainScene":8,"scenes/MenuScene":9,"scenes/PreloadScene":10,"scenes/UIScene":12}],3:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=e("consola").withTag("Boss"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.GameObjects.GameObject);var t,n,o,r=u(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=r.call(this,e.scene)).sub=e.sub,t.reveal=!1,t.fullyRevealed=!1,t.revealTick=0,t.fullyRevealedTick=i.default.BOSS_REVEAL_TIME,t.pingTick=0,t.pingInterval=1e3,t.trackSub=!0,t.eyesSprite=e.scene.add.sprite(e.eyes.x,e.eyes.y,e.eyes.key),t.eyesSprite.setVisible(!1),t.face=e.scene.add.sprite(0,0,"boss-face"),t.face.setVisible(!1),t.face.setDepth(-1),t.teeth=e.scene.add.sprite(0,0,"boss-teeth"),t.teeth.setVisible(!1),t.bossContainer=e.scene.add.container(e.x,e.y,[t.eyesSprite,t.face,t.teeth]),e.scene.add.existing(t.bossContainer),t}return t=l,(n=[{key:"update",value:function(e){if(this.trackSub&&(this.bossContainer.x=this.sub.subMatterContainer.x,this.bossContainer.y=this.sub.subMatterContainer.y),this.reveal&&!this.fullyRevealed){this.revealTick+=e/1e3;var t=Phaser.Display.Color.Interpolate.RGBWithRGB(0,0,0,65,65,65,this.fullyRevealedTick,this.revealTick);this.eyesSprite.setTint(Phaser.Display.Color.ValueToColor(t).color),this.revealTick>=this.fullyRevealedTick&&(this.fullyRevealed=!0,this.eyesSprite.setTint(16777215),this.face.setVisible(!0),this.teeth.setVisible(!0),this.face.play("bossFaceAnim"),this.teeth.play("bossTeethAnim"),this.trackSub=!1,this.scene.events.emit("bossAttack"))}}},{key:"setReveal",value:function(e){this.eyesSprite.setVisible(e),e||(this.face.setVisible(!1),this.teeth.setVisible(!1)),!this.reveal&&e&&(this.fullyRevealed||(this.eyesSprite.setTint(0),this.revealTick=0,this.pingTick=0,this.pingInterval=1e3,this.scene.time.addEvent({delay:this.pingInterval,loop:!1,callback:this.startPings,callbackScope:this}))),this.reveal=e}},{key:"startPings",value:function(){var e=this;this.reveal&&!this.fullyRevealed&&(this.scene.time.addEvent({delay:this.pingInterval,loop:!1,callback:function(){e.pingInterval=Phaser.Math.Linear(1e3,100,e.revealTick/e.fullyRevealedTick),e.startPings()},callbackScope:this}),f.info("ping"),this.scene.events.emit("ping"))}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=h},{"../config":5,consola:1}],4:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=e("consola").withTag("Sub"),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.GameObjects.GameObject);var t,n,o,r=u(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=r.call(this,e.scene)).hasWon=!1,t.subSprite=e.scene.add.sprite(e.sub.x,e.sub.y,e.sub.key),t.subSprite.setPipeline("Light2D"),t.propSprite=e.scene.add.sprite(e.prop.x,e.prop.y,e.prop.key).play("propellerAnimation"),t.propSprite.setPipeline("Light2D"),t.subContainer=e.scene.add.container(e.pos.x,e.pos.y,[t.propSprite,t.subSprite]);var n=e.scene.matter.world.nextGroup();return t.subMatterContainer=e.scene.matter.add.gameObject(t.subContainer,{shape:e.subShape}),t.subMatterContainer.setScale(.5,.5),t.subMatterContainer.setCollisionGroup(n),t.lightLocation={x:135-t.subSprite.width/2,y:20-t.subSprite.height/2},t.lightColor=16777215,t.lightChargeLevel=1,t.health=1,t.hasLoot=!1,t.disabled=!1,e.scene.time.addEvent({delay:1e3,loop:!0,callback:t.lightPowerTick,callbackScope:c(t)}),t.createLights(e.scene),t}return t=l,(n=[{key:"lightPowerTick",value:function(){!this.lightIsOn()||i.default.LIGHTS_ALWAYS_ON||this.isDead()||(this.lightChargeLevel=Phaser.Math.Clamp(this.lightChargeLevel-.1,0,1),0===this.lightChargeLevel&&(h.info("out of power"),this.toggleLights()),this.scene.events.emit("lightChargeChanged",this.lightChargeLevel))}},{key:"update",value:function(e){if(!this.disabled){if(!this.isDead()){var t=i.default.SKY_HEIGHT-60+this.subSprite.height/2,n=this.subMatterContainer.y<t;this.hasWon||this.handleInput(e,n);var o=Phaser.Math.Linear(this.subMatterContainer.rotation,0,.2);this.subMatterContainer.setRotation(o),n&&(this.subMatterContainer.y=t)}this.light.x=this.lightLocation.x+this.subMatterContainer.x,this.light.y=this.lightLocation.y+this.subMatterContainer.y}}},{key:"flickerLights",value:function(){h.info("flicker");var e=Phaser.Math.Between(100,500);this.scene.time.addEvent({delay:e,loop:!1,callback:this.flickerLights,callbackScope:this}),this.toggleLights()}},{key:"toggleLights",value:function(){!this.lightIsOn()&&this.lightChargeLevel>0?(this.light.setRadius(300),this.isDead()||this.scene.events.emit("lightsOn")):(this.light.setEmpty(),this.isDead()||this.scene.events.emit("lightsOff"))}},{key:"lightIsOn",value:function(){return!this.light.isEmpty()}},{key:"createLights",value:function(e){this.light=e.lights.addLight(this.lightLocation.x+this.subMatterContainer.x,this.lightLocation.y+this.subMatterContainer.y,300).setColor(this.lightColor).setIntensity(5)}},{key:"pickupGlowFish",value:function(){h.info("picked up glowfish"),this.lightChargeLevel=Phaser.Math.Clamp(this.lightChargeLevel+.3,0,1),this.scene.events.emit("lightChargeChanged",this.lightChargeLevel),this.scene.events.emit("pickupGlowFish")}},{key:"takeDamage",value:function(e){i.default.INVULNERABLE||(this.health=Phaser.Math.Clamp(this.health-e,0,1),this.scene.events.emit("healthChanged",this.health),this.health<=.3&&(this.hasLoot?this.subSprite.setTexture("sub-loot-damaged-image"):this.subSprite.setTexture("sub-damaged-image")),0===this.health&&(h.info("dead"),this.propSprite.anims.stop()))}},{key:"isDead",value:function(){return 0===this.health}},{key:"flipX",value:function(e){"left"===e?this.subMatterContainer.setScale(.5,.5):"right"===e&&this.subMatterContainer.setScale(-.5,.5)}},{key:"collectLoot",value:function(){this.subSprite.setTexture("sub-loot-image"),this.hasLoot=!0}},{key:"deliverLoot",value:function(){this.subSprite.setTexture("sub-image"),this.hasLoot=!1}},{key:"handleInput",value:function(e,t){e.W.isDown&&!t&&this.subMatterContainer.thrustLeft(i.default.THRUST_POWER),e.A.isDown&&(this.subMatterContainer.thrustBack(i.default.THRUST_POWER),this.flipX("left")),e.S.isDown&&this.subMatterContainer.thrustRight(i.default.THRUST_POWER),e.D.isDown&&(this.subMatterContainer.thrust(i.default.THRUST_POWER),this.flipX("right"))}},{key:"disabledByBoss",value:function(e){this.disabled=!0,this.subMatterContainer.setVelocity(0,0),this.subMatterContainer.setRotation(0),this.subSprite.resetPipeline(),this.propSprite.resetPipeline(),this.propSprite.anims.stop(),this.subMatterContainer.y=e.bossContainer.y+20}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=p},{"../config":5,consola:1}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={GAME_WIDTH:1024,GAME_HEIGHT:576,WORLD_WIDTH:2e3,WORLD_HEIGHT:3e3,DEBUG:!1,THRUST_POWER:85e-5,LIGHTS_ALWAYS_ON:!0,INVULNERABLE:!0,SKY_HEIGHT:100,GRAVITY:.75,DISABLE_SOUNDS:!1,BOSS_REVEAL_DEPTH:2400,BOSS_REVEAL_TIME:7};"dev"===ENV?o.LOG_LEVEL=1/0:"prod"===ENV&&(o.LOG_LEVEL=3);var r=o;n.default=r},{}],6:[function(e,t,n){"use strict";var o,r=(o=e("./Game.js"))&&o.__esModule?o:{default:o};window.addEventListener("load",(function(){new r.default}))},{"./Game.js":2}],7:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Scene);var t,n,o,r=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),r.call(this,{key:"GameOverScene",active:!0})}return t=l,(n=[{key:"create",value:function(){var e=this,t=this.add.text(i.default.GAME_WIDTH/2,i.default.GAME_HEIGHT/2,"Game Over",{backgroundColor:"#000"});t.x-=t.width/2,this.restartButton=this.add.text(i.default.GAME_WIDTH/2,t.y+t.height+20,"Restart Game",{backgroundColor:"#000"}),this.restartButton.x-=this.restartButton.width/2,this.restartButton.on("pointerup",(function(){var t=e.scene.get("MainScene");e.scene.get("UIScene").scene.restart(),t.scene.restart(),e.hide()})),this.hide()}},{key:"show",value:function(){this.restartButton.setInteractive(),this.scene.setVisible(!0)}},{key:"hide",value:function(){this.restartButton.disableInteractive(),this.scene.setVisible(!1)}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=f},{"../config":5}],8:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("../actors/Boss")),i=a(e("../config")),s=a(e("../actors/Sub"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=e("consola").withTag("MainScene"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,Phaser.Scene);var t,n,o,a=c(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),a.call(this,{key:"MainScene"})}return t=f,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;p.info("Create"),this.victory=!1,this.scene.setVisible(!0,"UIScene"),this.scene.get("GameOverScene").hide(),this.scene.get("VictoryScene").hide(),this.lights.enable().setAmbientColor(1118481);var t=this.add.graphics();t.fillStyle(10079487),t.fillRect(0,0,i.default.WORLD_WIDTH,i.default.SKY_HEIGHT),this.bargeSprite=this.add.sprite(1e3,80,"barge-image"),this.bargeSprite.scale=1.2,this.shapes=this.cache.json.get("shapes"),this.matter.world.setBounds(0,0,i.default.WORLD_WIDTH,i.default.WORLD_HEIGHT);var n=this.matter.add.sprite(0,0,"ground-image",null,{shape:this.shapes.ground});n.setDepth(-2),this.bubbles=[];for(var o=0;o<10;o++)this.generateBubbles(200,1800,200,1e3);this.time.addEvent({delay:2e3,loop:!0,callback:this.generateBubbles,callbackScope:this}),n.setPosition(975+n.centerOfMass.x,1820+n.centerOfMass.y),n.setPipeline("Light2D"),this.sub=new s.default({scene:this,sub:{x:-22,y:-20,key:"sub-image"},prop:{x:82,y:36,key:"propeller"},pos:{x:1e3,y:130},subShape:this.shapes.Sub_Base}),this.boss=new r.default({scene:this,sub:this.sub,eyes:{x:0,y:0,key:"boss-eyes-image"},x:800,y:300}),this.events.on("lightsOn",(function(){p.info("lights on"),e.boss.reveal&&e.boss.setReveal(!1)})),this.events.on("bossAttack",(function(){e.sub.disabledByBoss(e.boss),e.time.addEvent({delay:4e3,loop:!1,callback:function(){e.scene.get("GameOverScene").show()},callbackScope:e})})),this.glowFishGroup=this.matter.world.nextGroup(!0);for(var a=0;a<10;a++){var u=Phaser.Math.Between(200,1500),l=Phaser.Math.Between(i.default.SKY_HEIGHT+50,300),c=Phaser.Math.Between(0,30),f=this.matter.add.sprite(u,l,"glow-fish").play({key:"glowFishAnimation",startFrame:c});f.setCollisionGroup(this.glowFishGroup),f.setScale(.25,.25),f.setPipeline("Light2D"),f.directionX=Phaser.Math.Between(-1,1),f.setIgnoreGravity(!0),0===f.directionX&&(f.directionX=-1)}this.createShipwreckLoot(),this.collisionChecks(),this.cameras.main.setBounds(0,0,i.default.WORLD_WIDTH,i.default.WORLD_HEIGHT),this.cameras.main.startFollow(this.sub.subMatterContainer,!1,.05,.05),this.cameras.main.setBackgroundColor(16512),this.input.on("pointerdown",(function(t){e.sub.isDead()||e.sub.disabled||e.sub.toggleLights()})),this.keys=this.input.keyboard.addKeys("W,S,A,D")}},{key:"collisionChecks",value:function(){var e=this;this.matter.world.on("collisionstart",(function(t,n,o){var r=null,s=null;n.gameObject===e.sub.subMatterContainer?(r=n,s=o):o.gameObject===e.sub.subMatterContainer&&(r=o,s=n),r&&!e.sub.isDead()&&s&&(s.collisionFilter.group===e.glowFishGroup?(e.sub.pickupGlowFish(),s.gameObject.destroy()):"loot"===s.parent.label?e.collectLoot(s):0===s.collisionFilter.group?(p.info("collided with ground"),e.sub.takeDamage(.1),e.sub.isDead()&&(e.matter.world.setGravity(0,i.default.GRAVITY),e.scene.get("GameOverScene").show(),e.sub.flickerLights())):p.info("unknown collision: "+s.collisionFilter.group))}))}},{key:"generateBubbles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1800,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,r=Phaser.Math.Between(e,t),i=Phaser.Math.Between(n,o),s=Phaser.Math.Between(5,30),a=this.add.sprite(r,i,"bubbles").play({key:"bubblesAnimation",frameRate:s});a.setScale(.25,.25),a.setPipeline("Light2D"),a.setOrigin(0,0),a.tint=6707,this.bubbles.push(a)}},{key:"update",value:function(e,t){var n=this;this.victory||this.sub.update(this.keys),this.sub.subMatterContainer.y>i.default.BOSS_REVEAL_DEPTH&&!this.sub.lightIsOn()&&!this.sub.isDead()?this.boss.setReveal(!0):this.sub.subMatterContainer.y<i.default.BOSS_REVEAL_DEPTH&&this.boss.reveal&&this.boss.setReveal(!1),this.boss.update(t),this.setAmbientColor(),this.bubbles.forEach((function(e,n,o){e.y-=50*t/1e3,e.y<i.default.SKY_HEIGHT&&(e.destroy(),o.splice(n,1))})),this.matter.world.getAllBodies().forEach((function(e){e.collisionFilter.group===n.glowFishGroup&&(e.gameObject.setVelocityX(.5*e.gameObject.directionX),e.gameObject.flipX=e.gameObject.directionX<0,e.gameObject.x<100?e.gameObject.directionX=1:e.gameObject.x>1800&&(e.gameObject.directionX=-1))})),Phaser.Math.Distance.BetweenPoints(this.sub.subContainer,this.bargeSprite)<120&&this.sub.hasLoot&&this.deliverLoot()}},{key:"setAmbientColor",value:function(){var e=Phaser.Display.Color.HexStringToColor("0x0066cc"),t=Phaser.Display.Color.HexStringToColor("0x0"),n=Phaser.Math.Clamp(this.sub.subMatterContainer.y,0,2500),o=Phaser.Display.Color.Interpolate.ColorWithColor(e,t,2500,n),r=Phaser.Display.Color.ValueToColor(o).color;this.lights.setAmbientColor(r),this.cameras.main.setBackgroundColor(o)}},{key:"createShipwreckLoot",value:function(){var e=[{loot:{x:315,y:2880},wreck:{x:275,y:2880}},{loot:{x:1045,y:2870},wreck:{x:1e3,y:2870}},{loot:{x:1800,y:2920},wreck:{x:1760,y:2920}}][Phaser.Math.Between(0,2)],t=this.matter.add.image(e.loot.x,e.loot.y,"loot-image",null,{shape:this.shapes.Loot,label:"loot"});t.setScale(.5,.5),t.setPipeline("Light2D");var n=this.add.image(e.wreck.x,e.wreck.y,"wreck-image");n.setScale(.5,.5),n.setPipeline("Light2D")}},{key:"collectLoot",value:function(e){e.gameObject.destroy(),this.sub.collectLoot()}},{key:"deliverLoot",value:function(){p.log("Loot delivered"),this.bargeSprite.setTexture("barge-filled-image"),this.sub.deliverLoot(),this.scene.get("VictoryScene").show(),this.sub.hasWon=!0}}])&&u(t.prototype,n),o&&u(t,o),f}();n.default=d},{"../actors/Boss":3,"../actors/Sub":4,"../config":5,consola:1}],9:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=e("consola").withTag("MenuScene"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Scene);var t,n,o,r=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),r.call(this,{key:"MenuScene"})}return t=l,(n=[{key:"create",value:function(e){var t=this;f.info("Create"),this.events.emit("mainMenuMusic");var n=this.add.image(0,0,"title-scene-image");n.setOrigin(0,0),n.setScale(.55),this.startButton=this.add.text(150,i.default.GAME_HEIGHT/2,"Start Game",{backgroundColor:"#000"}),this.startButton.x-=this.startButton.width/2,this.startButton.setInteractive(),this.startButton.on("pointerup",(function(){t.events.emit("mainGameMusic"),t.scene.start("MainScene")}))}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=h},{"../config":5,consola:1}],10:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=e("consola").withTag("PreloadScene");f.level=i.default.LOG_LEVEL;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Scene);var t,n,o,r=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),r.call(this,{key:"PreloadScene"})}return t=l,(n=[{key:"preload",value:function(){var e=this;f.trace("Loading assets..");var t=i.default.GAME_WIDTH/2,n=i.default.GAME_HEIGHT/2,o=t-160,r=n-25,s=this.add.graphics(),a=this.add.graphics();a.fillStyle(2236962,.8),a.fillRect(o,r,320,50);var u=this.make.text({x:t,y:n-50,text:"Loading...",style:{font:"20px monospace",fill:"#ffffff"}});u.setOrigin(.5,.5);var l=this.make.text({x:t,y:n,text:"0%",style:{font:"18px monospace",fill:"#ffffff"}});l.setOrigin(.5,.5),this.load.on("progress",(function(e){var t=parseInt(100*e)+"%";f.log("Loading..",t),l.setText(t),s.clear(),s.fillStyle(16777215,1),s.fillRect(o+10,r+10,300*e,30)})),this.load.on("complete",(function(){f.log("Loading complete."),s.destroy(),a.destroy(),u.destroy(),l.destroy(),e.scene.start("SoundManagerScene")})),this.load.image("ground-image","../assets/images/ground.png"),this.load.image("sub-image","../assets/images/Sub-Base.png"),this.load.image("sub-loot-image","../assets/images/Sub_Loot.png"),this.load.image("sub-damaged-image","../assets/images/Sub-Base-damaged.png"),this.load.image("sub-loot-damaged-image","../assets/images/Sub-Loot-damaged.png"),this.load.image("wreck-image","../assets/images/Shipwreck.png"),this.load.image("loot-image","../assets/images/Loot.png"),this.load.image("barge-image","../assets/images/Barge.png"),this.load.image("barge-filled-image","../assets/images/Barge_Filled.png"),this.load.image("boss-eyes-image","../assets/images/Boss-Eyes_Only.png"),this.load.image("title-scene-image","../assets/images/Sub Game Title Frame-base2.png"),this.load.spritesheet("fullscreen","../assets/images/fullscreen-white.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("propeller","../assets/images/Sub-Prop-sprite-sheet.png",{frameWidth:56,frameHeight:26}),this.load.spritesheet("glow-fish","../assets/images/Glow_Fish_Animated-Spritesheet.png",{frameWidth:220,frameHeight:114}),this.load.spritesheet("bubbles","../assets/images/Bubbles Spritesheet.png",{frameWidth:154,frameHeight:300}),this.load.spritesheet("boss-face","../assets/images/Boss-Face_Animated-Spritesheet.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("boss-teeth","../assets/images/Boss-Teeth_Animated-Spritesheet.png",{frameWidth:256,frameHeight:256}),this.load.json("shapes","assets/json/shapes.json"),this.load.audio("sub-crash","../assets/sounds/sub-crash.mp3"),this.load.audio("lights-on","../assets/sounds/lights-on.mp3"),this.load.audio("lights-off","../assets/sounds/lights-off.mp3"),this.load.audio("swallow","../assets/sounds/swallow.mp3"),this.load.audio("propeller","../assets/sounds/propeller.mp3"),this.load.audio("main-music","../assets/sounds/ld48-ambient-play-music.mp3"),this.load.audio("menu-music","../assets/sounds/ld48-title-page-music.mp3"),this.load.audio("bubble1","../assets/sounds/bubble1.mp3"),this.load.audio("bubble2","../assets/sounds/bubble2.mp3"),this.load.audio("bubble3","../assets/sounds/bubble3.mp3"),this.load.audio("whale","../assets/sounds/whale.mp3"),this.load.audio("sea-creature1","../assets/sounds/sea-creature1.mp3"),this.load.audio("sea-creature2","../assets/sounds/sea-creature2.mp3"),this.load.audio("hungry-monster","../assets/sounds/hungry-monster.mp3"),this.load.audio("sonar","../assets/sounds/sonar-ping-short.mp3")}},{key:"create",value:function(){f.success("Game loaded");var e={key:"propellerAnimation",frames:this.anims.generateFrameNumbers("propeller",{start:0,end:3,first:0}),frameRate:20,repeat:-1};this.anims.create(e);var t={key:"glowFishAnimation",frames:this.anims.generateFrameNumbers("glow-fish",{start:0,end:30,first:0}),frameRate:20,repeat:-1};this.anims.create(t);var n={key:"bubblesAnimation",frames:this.anims.generateFrameNumbers("bubbles",{start:0,end:30,first:0}),frameRate:20,repeat:-1};this.anims.create(n);var o={key:"bossFaceAnim",frames:this.anims.generateFrameNumbers("boss-face",{start:0,end:30,first:0}),frameRate:20};this.anims.create(o);var r={key:"bossTeethAnim",frames:this.anims.generateFrameNumbers("boss-teeth",{start:0,end:30,first:0}),frameRate:30};this.anims.create(r),this.scene.start("MenuScene")}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=h},{"../config":5,consola:1}],11:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e("consola").withTag("SoundManagerScene");var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Scene);var t,n,o,r=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),r.call(this,{key:"SoundManagerScene"})}return t=l,(n=[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;i.default.DISABLE_SOUNDS||(this.miscSounds=[this.sound.add("bubble1"),this.sound.add("bubble2"),this.sound.add("bubble3"),this.sound.add("whale"),this.sound.add("sea-creature1"),this.sound.add("sea-creature2")],this.scene.get("MainScene").time.addEvent({delay:5e3,loop:!1,callback:this.playRandomSound,callbackScope:this}),this.subCrash=this.sound.add("sub-crash"),this.lightsOn=this.sound.add("lights-on"),this.lightsOff=this.sound.add("lights-off"),this.swallow=this.sound.add("swallow"),this.propeller=this.sound.add("propeller"),this.bossAttack=this.sound.add("hungry-monster"),this.sonar=this.sound.add("sonar"),this.menuScene=this.scene.get("MenuScene"),this.gameScene=this.scene.get("MainScene"),this.gameScene.events.on("healthChanged",(function(t){e.subCrash.play(),0===t&&e.propeller.stop()})),this.gameScene.events.on("lightsOn",(function(){e.lightsOn.play()})),this.gameScene.events.on("lightsOff",(function(){e.lightsOff.play()})),this.gameScene.events.on("pickupGlowFish",(function(){e.swallow.play({volume:.5})})),this.gameScene.events.on("bossAttack",(function(){e.bossAttack.play()})),this.gameScene.events.on("ping",(function(){e.sonar.play()})),this.menuMusic=this.sound.add("menu-music"),this.menuMusic.play(),this.mainMusic=this.sound.add("main-music"),this.menuScene.events.on("mainGameMusic",(function(){e.menuMusic.stop(),e.mainMusic.play({loop:!0,volume:.25}),e.propeller.play({loop:!0})})))}},{key:"playRandomSound",value:function(){var e=Phaser.Math.Between(15e3,3e3);this.scene.get("MainScene").time.addEvent({delay:e,loop:!1,callback:this.playRandomSound,callbackScope:this});var t=Phaser.Math.Between(0,this.miscSounds.length-1);this.miscSounds[t].play()}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=f},{"../config":5,consola:1}],12:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(u,Phaser.Scene);var t,n,o,a=s(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a.call(this,{key:"UIScene",active:!0})}return t=u,(n=[{key:"create",value:function(){var e=this;this.scene.setVisible(!1),this.gameScene=this.scene.get("MainScene"),this.gameScene.events.on("lightChargeChanged",(function(t){e.drawPowerBar(t)})),this.gameScene.events.on("healthChanged",(function(t){e.drawHealthBar(t)})),this.powerBar=this.add.graphics(),this.healthBar=this.add.graphics(),this.drawPowerBar(1),this.drawHealthBar(1)}},{key:"drawPowerBar",value:function(e){this.powerBar.fillStyle(5592405),this.powerBar.fillRect(10,10,50,20),this.powerBar.fillStyle(16776960),this.powerBar.fillRect(10,10,50*e,20)}},{key:"drawHealthBar",value:function(e){this.powerBar.fillStyle(5592405),this.powerBar.fillRect(10,40,50,20),this.powerBar.fillStyle(16711680),this.powerBar.fillRect(10,40,50*e,20)}}])&&r(t.prototype,n),o&&r(t,o),u}();n.default=l},{}],13:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("../config"))&&r.__esModule?r:{default:r};function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,Phaser.Scene);var t,n,o,r=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),r.call(this,{key:"VictoryScene",active:!0})}return t=l,(n=[{key:"create",value:function(){var e=this,t=this.add.text(i.default.GAME_WIDTH/2,i.default.GAME_HEIGHT/2,"Victory!",{backgroundColor:"#000"});t.x-=t.width/2,this.restartButton=this.add.text(i.default.GAME_WIDTH/2,t.y+t.height+20,"Play Again",{backgroundColor:"#000"}),this.restartButton.x-=this.restartButton.width/2,this.restartButton.on("pointerup",(function(){if(e.scene.isVisible()){var t=e.scene.get("MainScene");e.scene.get("UIScene").scene.restart(),t.scene.restart(),e.hide()}})),this.hide()}},{key:"show",value:function(){this.restartButton.setInteractive(),this.scene.setVisible(!0)}},{key:"hide",value:function(){this.restartButton.disableInteractive(),this.scene.setVisible(!1)}}])&&s(t.prototype,n),o&&s(t,o),l}();n.default=f},{"../config":5}]},{},[6]);